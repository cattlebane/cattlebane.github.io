function UIComponent(e){function t(){return window.getComputedStyle(n,null).getPropertyValue("transform").replace(/[\s\(\)matrix]/g,"").split(",")}var a=!0,i=!1,n=document.createElement("div");return e.id&&(n.id=e.id),Styles.setCss(n,e.css),e.target&&e.target.appendChild(n),Object.defineProperty(n,"x",{get:function(){return+t()[4]},set:function(e){Styles.setCss(n,{x:e})}}),Object.defineProperty(n,"y",{get:function(){return+t()[5]},set:function(e){Styles.setCss(n,{y:e})}}),Object.defineProperty(n,"width",{get:function(){return n.offsetWidth},set:function(e){Styles.setCss(n,{width:e})}}),Object.defineProperty(n,"height",{get:function(){return n.offsetHeight},set:function(e){Styles.setCss(n,{height:e})}}),Object.defineProperty(n,"enabled",{get:function(){return a},set:function(e){a=e,n.dispatchEvent(new CustomEvent("uiComponentEnabled"))}}),Object.defineProperty(n,"showing",{get:function(){return i},set:function(){trace(":: WARNING ::\n\n	UIComponent.showing cannot be set.\n\n")}}),n.hide=function(){n.style.display="none",i=!0},n.show=function(){try{trace("    try removeProperty()"),n.style.removeProperty("display")}catch(e){trace("    catch display = null"),n.style.display=null}i=!1},n.setCss=function(e){Styles.setCss(n,e)},n.inspect=function(){for(var e={},t=Object.getOwnPropertyNames(n),a=0;a<t.length;a++){var i=n[t[a]];e[t[a]]=i}trace("\n	",n.toString(),"	",n.id,"\n	",e)},n.toString=function(){return"[object UIComponent]"},n.enabled=!0,n}function UIImage(e){Styles.createClass("uiImage","ui-image","position:absolute; background-repeat:no-repeat; background-size:cover;");var t=null;e.css||{};if(!e.source)throw new Error("UIImage : No image source set on '"+e.id+"'");var t=ImageManager.get(e.source);e.css=e.css||{},e.css.width=void 0!=e.css.width?e.css.width:t.width,e.css.height=void 0!=e.css.height?e.css.height:t.height,e.css.backgroundImage=t.src;var a=new UIComponent(e);return Styles.addClass(a,"ui-image"),Object.defineProperty(a,"source",{get:function(){return t},set:function(e){t=e,a.style.backgroundImage="url("+ImageManager.get(e).src+")"}}),a.toString=function(){return"[object UIImage]"},a}function FrameRateBase(e){var t=this;t.pool=[],t.fps=e,t._frameTime=Math.floor(1e3/t.fps),t._prevTime=0,t._startTime=0,t._nextTime=0,t._maxLag=400,t._shiftLag=30,t._paused=!1}function GestureBase(e){this.elem=e,this.hasActiveChildren=!0,this.debug=!1,this._isDragging=!1,this._isDrag=!1,this._give=2,this._total=0,this._xOff=0,this._xPrev=0,this._xPrev2=0,this._xStart=0,this._xVelocity=0,this._yOff=0,this._yPrev=0,this._yPrev2=0,this._yStart=0,this._yVelocity=0,this._isSelectBubbleStop=!1,this.init()}function GestureEvent(){var e=new CustomEvent("onDragStart");e.position={x:0,y:0},e.element={x:0,y:0};var t=new CustomEvent("onDrag");t.position={x:0,y:0},t.velocity={x:0,y:0},t.element={x:0,y:0},t.page={x:0,y:0};var a=new CustomEvent("onDragStop");a.position={x:0,y:0},a.velocity={x:0,y:0};var i=new CustomEvent("onSwipe");i.direction={x:null,y:null},i.distance={x:0,y:0},i.velocity={x:0,y:0};var n=new CustomEvent("onPress");n.position={x:0,y:0},n.page={x:0,y:0};var s=new CustomEvent("onRelease"),r=new CustomEvent("onFinishGestures"),o="desktop"!=Device.type?"touchend":"click";return{OVER:"mouseover",OUT:"mouseout",DOWN:"onPress",PRESS:"onPress",UP:"onRelease",RELEASE:"onRelease",CLICK:o,DRAG:"onDrag",DRAG_START:"onDragStart",DRAG_STOP:"onDragStop",SWIPE:"onSwipe",drag:t,dragStart:e,dragStop:a,swipe:i,press:n,release:s,finish:r,FINISH:"onFinishGestures"}}function Border(e,t,a,i,n,s){this.container=Markup.getElement(t),this.size=a,n=n?" opacity: "+n+";":"",s=s?" z-index: "+s+";":"";for(var r=["top","right","bottom","left"],o=0;4>o;o++){var d="";d+=(o%2?"width":"height")+":"+this.size+"px; ",d+=(o%2?"height":"width")+": 100%; ",d+=r[o]+": 0px; ",2!=o&&(d+="top:0px; "),d+="background-color: "+i+";"+n+s,this[r[o]]=Markup.addDiv({id:"border-"+r[o]+"-"+e,styles:d,target:this.container})}}function AdData(e){this.adDataRaw=e?e:null,trace("  adDataRaw:"),trace(this.adDataRaw),this.elements={},this.elements.redAdContainer=Markup.getElement("redAdContainer"),this.edgeData=new EdgeData,this.shoe=new Shoe,this.mysteryBGColors=["#ff0074","#ff0048","#b41637","#dd001f","#ff362e","#d4f241","#00d091","#00368d","#53439a","#383b51","#1e2734","#121212","#5f5e5f","#9f9b9b"],this.transitionShoes=["shoe_white","shoe_persian_violet","shoe_red","shoe_midnight_grey"],this.shoeParts=[{id:"body",list:["body_black","body_cool_grey","body_green_glow","body_hyper_orange","body_midnight_grey","body_persian_violet","body_pink_blast","body_red","body_soar","body_solar_red","body_volt","body_white","body_wolf_grey"]},{id:"base",list:["base_black","base_cool_grey","base_green_glow","base_hyper_orange","base_midnight_navy","base_persian_violet","base_pink_blast","base_soar","base_solar_red","base_university_red","base_volt","base_white","base_wolf_grey"]},{id:"lining",list:["lining_black","lining_cool_grey","lining_green_glow","lining_hyper_orange","lining_midnight_navy","lining_persian_violet","lining_pink_blast","lining_soar","lining_solar_red","lining_university_red","lining_volt","lining_white","lining_wolf_grey"]},{id:"airbag",list:["airbag_black","airbag_clear","airbag_cool_grey","airbag_green_glow","airbag_hyper_orange","airbag_metallic_silver","airbag_midnight_navy","airbag_persian_violet","airbag_pink_blast","airbag_soar","airbag_solar_red","airbag_university_red","airbag_volt","airbag_wolf_grey"]},{id:"laces",list:["laces_black","laces_cool_grey","laces_green_glow","laces_hyper_orange","laces_midnight_navy","laces_persian_violet","laces_pink_blast","laces_soar","laces_solar_red","laces_university_red","laces_volt","laces_white","laces_wolf_grey"]},{id:"eyelets",list:["eyelets_black","eyelets_clear","eyelets_cool_grey","eyelets_green_glow","eyelets_metallic_silver","eyelets_midnight_navy","eyelets_persian_violet","eyelets_soar","eyelets_university_red","eyelets_white","eyelets_wolf_grey"]},{id:"outsole",list:["outsole_black","outsole_cool_grey","outsole_green_glow","outsole_gum_light_brown","outsole_hyper_orange","outsole_midnight_navy","outsole_persian_violet","outsole_pink_blast","outsole_soar","outsole_solar_red","outsole_university_red","outsole_volt","outsole_white","outsole_wolf_grey"]},{id:"swoosh",list:["swoosh_black","swoosh_cool_grey","swoosh_green_glow","swoosh_hyper_orange","swoosh_metallic_silver","swoosh_midnight_navy","swoosh_persian_violet","swoosh_pink_blast","swoosh_soar","swoosh_solar_red","swoosh_university_red","swoosh_volt","swoosh_white","swoosh_wolf_grey"]}]}trace("----------------------------------------------------------------------------------------------------------------------------"),trace(" ff0000_cdn_300x250_build.js[ Nike | ID | v4 | ff0000_cdn | 300x250 | 1.2 ]"),trace("  VERSION - core.txt[ AdApp: v4.4.6, AdHtml: v2.5.0, Instance: 06/09/16 04:38pm ]"),trace("  VERSION - common.txt[ AdApp: v4.4.6, AdHtml: v2.5.0, Instance: 06/09/16 04:38pm ]"),trace("  VERSION - template.txt[ Template: standard-base, AdApp: v4.4.6, AdHtml: v2.5.0, Instance: 06/09/16 04:38pm ]"),trace("----------------------------------------------------------------------------------------------------------------------------");var PrepareCore=new function(){function e(e){trace("PrepareCore.init()"),d=new Async,d.onComplete(e),adParams.dateSettings&&t(adParams.dateSettings),adParams.adManager&&a(adParams.adManager),adParams.analytics&&n(adParams.analytics),s(),r(),Device.init(),Device.trace(),Gesture.init(),CssManager.init(),d.start()}function t(e){trace("PrepareCore.prepareDateUtils()"),DateUtils.initDateUtils(e)}function a(e){trace("PrepareCore.prepareAdManager()"),d.wait(),AdManager.init(e),AdManager.prepareJson(i)}function i(){d.done()}function n(e){trace("PrepareCore.prepareAnalytics()"),Analytics.init(e)}function s(){ImageManager.addLoader(new Loader(assets.images,{name:"indexImages",prepend:adParams.imagesPath})),ImageManager.addLoader(new Loader(assets.edgeImages,{name:"edgeImages",prepend:adParams.edgePath}))}function r(){if(trace("PrepareCore.loadFonts()"),adParams.useFontJS){trace(' - using "Font.js", requesting:');var e=assets.fonts.concat(assets.edgeFonts);for(var t in e){trace("	"+e[t]),d.wait();var a=new Font;a.onload=o,a.onerror=function(){trace('"Font.js" FAILED to load fonts.'),failAd()},a.fontFamily=e[t].substring(e[t].lastIndexOf("/")+1,e[t].indexOf(".")),a.src=adParams.fontsPath+e[t]}}else d.wait(),fontLoader=new Loader({name:"fontLoader",onComplete:o,onFail:global.failAd,scope:h}),fontLoader.add(new Loader(assets.fonts,{name:"fontSubLoader",prepend:adParams.fontsPath,fileType:"ttf"})),fontLoader.add(new Loader(assets.edgeFonts,{name:"fontEdgeSubLoader",prepend:adParams.fontsPath,fileType:"ttf"})),fontLoader.load()}function o(){d.done()}var d,h=this;return{init:e,prepareAnalytics:n}},Async=function(){this.wait=function(){i.push(1)},this.done=function(){i.pop()},this.onComplete=function(t){e=t},this.start=function(){a=setInterval(n,t),n()};var e,t=25,a=-1,i=[],n=function(){e&&!i.length&&(clearInterval(a),e.call())}},Device=new function(){function e(){var e=!1;!function(t){var a=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i;t.substr(0,4).match(a)&&(e=!0)}(i.agentString||navigator.vendor||window.opera),i.agentString.match(/ipad/i)&&(e=!1),i.type=i.agentString.match(/intel mac/i)?"desktop":e?"mobile":"tablet"}function t(){var e,t=i.agentString.match(/(fban|fbav|opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i);if(t){if(t[1].match(/trident/i)){i.browser="ie";var e=/\brv[ :]+(\d+)/g.exec(i.agentString);return void(e&&(i.browserVersion=e[1]))}if(e=i.agentString.match(/\bOPR\/([0-9\.]+)/),"Chrome"==t[1]&&e)return i.browser="opera",void(i.browserVersion=e[1]);if(e=i.agentString.match(/\bCriOS\/([0-9\.]+)/))return i.browser="chrome",void(i.browserVersion=e[1]);if(t[1].match(/msie/i))return i.browser="ie",void(i.browserVersion=t[2]);if(t[1].match(/safari/i))return i.browser="safari",e=i.agentString.match(/\sversion\/([0-9\.]+)\s/i),void(e&&(i.browserVersion=e[1]));i.browser=t[1].toLowerCase(),e=i.agentString.match(new RegExp(i.browser+"/([0-9.]+)","i")),e&&(i.browserVersion=e[1])}}function a(){function e(n){clearTimeout(t),a.removeEventListener("playing",e,!1),i.canAutoPlayVideo=void 0!=n&&(!a.paused||0!=a.currentTime),a.parentNode.removeChild(a)}var t,a=document.createElement("video");a.setAttribute("autoplay",""),a.style.cssText="position:absolute; height:0; width:0; display:none",a.src="data:video/mp4;base64,AAAAHGZ0eXBtcDQyAAAAAG1wNDJpc29tYXZjMQAAAz5tb292AAAAbG12aGQAAAAAzaNacc2jWnEAAV+QAAFfkAABAAABAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAGGlvZHMAAAAAEICAgAcAT////3//AAACQ3RyYWsAAABcdGtoZAAAAAHNo1pxzaNacQAAAAEAAAAAAAFfkAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAEAAAAAAEAAAABAAAAAAAd9tZGlhAAAAIG1kaGQAAAAAzaNacc2jWnEAAV+QAAFfkFXEAAAAAAAhaGRscgAAAAAAAAAAdmlkZQAAAAAAAAAAAAAAAAAAAAGWbWluZgAAABR2bWhkAAAAAQAAAAAAAAAAAAAAJGRpbmYAAAAcZHJlZgAAAAAAAAABAAAADHVybCAAAAABAAABVnN0YmwAAACpc3RzZAAAAAAAAAABAAAAmWF2YzEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAEAAQAEgAAABIAAAAAAAAAAEOSlZUL0FWQyBDb2RpbmcAAAAAAAAAAAAAAAAAAAAAAAAY//8AAAAxYXZjQwH0AAr/4QAZZ/QACq609NQYBBkAAAMAAQAAAwAKjxImoAEABWjOAa8gAAAAEmNvbHJuY2xjAAYAAQAGAAAAGHN0dHMAAAAAAAAAAQAAAAUAAEZQAAAAKHN0c3oAAAAAAAAAAAAAAAUAAAIqAAAACAAAAAgAAAAIAAAACAAAAChzdHNjAAAAAAAAAAIAAAABAAAABAAAAAEAAAACAAAAAQAAAAEAAAAYc3RjbwAAAAAAAAACAAADYgAABaQAAAAUc3RzcwAAAAAAAAABAAAAAQAAABFzZHRwAAAAAAREREREAAAAb3VkdGEAAABnbWV0YQAAAAAAAAAhaGRscgAAAAAAAAAAbWRpcgAAAAAAAAAAAAAAAAAAAAA6aWxzdAAAADKpdG9vAAAAKmRhdGEAAAABAAAAAEhhbmRCcmFrZSAwLjkuOCAyMDEyMDcxODAwAAACUm1kYXQAAAHkBgX/4NxF6b3m2Ui3lizYINkj7u94MjY0IC0gY29yZSAxMjAgLSBILjI2NC9NUEVHLTQgQVZDIGNvZGVjIC0gQ29weWxlZnQgMjAwMy0yMDExIC0gaHR0cDovL3d3dy52aWRlb2xhbi5vcmcveDI2NC5odG1sIC0gb3B0aW9uczogY2FiYWM9MCByZWY9MSBkZWJsb2NrPTE6MDowIGFuYWx5c2U9MHgxOjAgbWU9ZXNhIHN1Ym1lPTkgcHN5PTAgbWl4ZWRfcmVmPTAgbWVfcmFuZ2U9NCBjaHJvbWFfbWU9MSB0cmVsbGlzPTAgOHg4ZGN0PTAgY3FtPTAgZGVhZHpvbmU9MjEsMTEgZmFzdF9wc2tpcD0wIGNocm9tYV9xcF9vZmZzZXQ9MCB0aHJlYWRzPTYgc2xpY2VkX3RocmVhZHM9MCBucj0wIGRlY2ltYXRlPTEgaW50ZXJsYWNlZD0wIGJsdXJheV9jb21wYXQ9MCBjb25zdHJhaW5lZF9pbnRyYT0wIGJmcmFtZXM9MCB3ZWlnaHRwPTAga2V5aW50PTUwIGtleWludF9taW49NSBzY2VuZWN1dD00MCBpbnRyYV9yZWZyZXNoPTAgcmM9Y3FwIG1idHJlZT0wIHFwPTAAgAAAAD5liISscR8A+E4ACAACFoAAITAAAgsAAPgYCoKgoC+L4vi+KAvi+L4YfAEAACMzgABF9AAEUGUgABDJiXnf4AAAAARBmiKUAAAABEGaQpQAAAAEQZpilAAAAARBmoKU",document.getElementsByTagName("body")[0].appendChild(a),setTimeout(function(){a.addEventListener("playing",e,!1),t=setTimeout(e,1e3)},0)}var i=this;i.agentString=void 0,i.brand="unknown",i.product="unknown",i.type=void 0,i.os="unknown",i.osVersion="unknown",i.browser=void 0,i.browserVersion=void 0,i.windowWidth=void 0,i.windowHeight=void 0,i.orientation=void 0,i.pixelRatio=void 0,i.canAutoPlayVideo=!1,i.documentTouch=void 0,i.init=function(){trace("Device.init()"),i.agentString=navigator.userAgent,i.documentTouch=window.DocumentTouch,e();var n={apple:/ip(hone|od|ad)|(mac)/gi.exec(i.agentString),microsoft:/(windows)|(windows phone)/i.exec(i.agentString),nt:/\sNT\s/i.exec(i.agentString),windowsPhone:/windows phone/i.exec(i.agentString),android:/android/i.exec(i.agentString),chromeOS:/CrOS/.exec(i.agentString),blackberry:/blackberry/i.exec(i.agentString)};if(n.apple)if(i.brand="apple",i.product=n.apple[0].toLowerCase(),"ipad"==i.product&&(window.ondevicemotion=function(e){i.product=e.acceleration?2==window.devicePixelRatio?"ipad3":"ipad2":"ipad1",window.ondevicemotion=null}),"mac"==i.product){i.os="osx";var s=/10[\.\_\d]+/.exec(i.agentString);s&&(i.osVersion=s[0]),/[\_]/.test(i.osVersion)&&(i.osVersion=i.osVersion.split("_").join("."))}else{i.os="ios";var r=i.agentString.indexOf("OS ");r>-1&&(i.osVersion=i.agentString.substr(r+3,3).replace("_","."))}else if(n.microsoft){if(i.brand="microsoft",i.os="windows",i.product=n.microsoft[0].toLowerCase(),n.nt){var o=[{signature:"5.1",name:"xp"},{signature:"5.2",name:"xp"},{signature:"6.0",name:"vista"},{signature:"6.1",name:"7"},{signature:"6.2",name:"8"},{signature:"6.3",name:"8.1"},{signature:"10.0",name:"10"}],s=/nt\s[^(\)|;)]*/i.exec(i.agentString);if(s)for(var d=s[0].replace("NT ",""),h=0;h<o.length;h++)if(d===o[h].signature){i.osVersion=o[h].name,i.type="desktop";break}}else if(n.windowsPhone){var s=/windows\sphone\s[^;]*/i.exec(i.agentString);s&&(i.osVersion=s[0].replace("Windows Phone ",""))}}else if(n.android)i.brand=i.product=i.os="android",i.osVersion=i.agentString.substr(i.agentString.indexOf("Android ")+8,3);else if(n.chromeOS){i.brand=i.product=i.os="chromeos";var s=/CrOS\s\S+\s(\d+\.\d+\.\d+)/.exec(i.agentString);s&&(i.osVersion=s[1]),i.type="desktop"}else n.blackberry&&(i.product=n.blackberry[0].toLowerCase(),i.brand="rim");i.pixelRatio=window.devicePixelRatio||"unknown",i.getOrientation(),t(),a()},i.trace=function(){trace("Device.trace()"),trace("------------------------------------------------"),trace(" AGENT( "+i.agentString+" )"),trace("  Brand:				"+i.brand),trace("  Product:			"+i.product),trace("  Type:				"+i.type),trace("  Os:				"+i.os+"( "+i.osVersion+" )"),trace("  Browser:			"+i.browser+"( "+i.browserVersion+" )"),trace("  Window: 			"+i.windowWidth+"x"+i.windowHeight),trace("  Orientation:		"+i.orientation),trace("  Pixel Ratio:		"+i.pixelRatio),trace("  Document Touch:	",i.documentTouch),trace("  Auto Play Video:	"+i.canAutoPlayVideo),trace("------------------------------------------------")},i.getOrientation=function(){return i.getScreenResolution(),i.orientation=i.windowWidth>i.windowHeight?"landscape":"portrait",i.orientation},i.getScreenResolution=function(){return"apple"!==i.brand?(i.windowWidth=window.width||window.innerWidth,i.windowHeight=window.height||window.innerHeight):(i.windowWidth=window.innerWidth,i.windowHeight=window.innerHeight),{width:i.windowWidth,height:i.windowHeight}}},CssManager=new function(){this.init=function(){trace("CssManager.init()"),this.generateBrowserKeyDictionary()},this.debug_level1=!1,this.debug_level2=!1,this.filter,this.debug_element,this.debug_css_list,this.setDebugLevel=function(e){switch(parseInt(e)){case 1:this.debug_level1=!0,this.debug_level2=!1;break;case 2:this.debug_level1=!0,this.debug_level2=!0;break;default:this.debug_level1=!1,this.debug_level2=!1}},this.setDebugFilter=function(e){trace("CssManager.setDebugFilter(),",e),this.filter=e,this.debug_level1=!0},this.ifDebug=function(e){return this.filter?this.passDebugFilter()&&this[e]?!0:void 0:this[e]},this.passDebugFilter=function(){if(this.debug_element&&this.debug_element.id.indexOf(this.filter)>-1)return!0;if(this.debug_css_list)for(var e in this.debug_css_list){if(e.indexOf(this.filter)>-1)return!0;if(String(this.debug_css_list[e]).indexOf(this.filter)>-1)return!0}return!1},this.deviceKeyDict,this.generateBrowserKeyDictionary=function(){trace("CssManager.generateBrowserKeyDictionary()"),this.deviceKeyDict={};for(var e in document.createElement("div").style){var t=this.formatKey(e,"hyphen"),a=this.stripPrefix(t);a in this.deviceKeyDict?this.hasPrefix(t)&&(this.deviceKeyDict[a]=t):this.deviceKeyDict[a]=t}switch(Device.browser){case"chrome":case"safari":break;case"firefox":this.deviceKeyDict.transform="transform"}trace(" KEY DICTIONARY:",this.deviceKeyDict)},this.apply=function(e,t){this.debug_element=e,this.debug_css_list=t,this.ifDebug("debug_level1")&&trace("  CssManager.apply()",e.id);for(var a in t)a.match(/^transform\(/)?this.applyTransform(e,a,t[a]):(this.ifDebug("debug_level1")&&trace("   "+a+": "+t[a]+";"),e.style[a]=t[a]);this.ifDebug("debug_level1")&&trace("\n\n"),this.debug_element=null,this.debug_css_list=null},this.conformCssObject=function(e,t){this.debug_element=t,this.ifDebug("debug_level1")&&trace(" CssManager.conformCssObject()");var a={};if(e)for(var i in e){this.ifDebug("debug_level2")&&trace("  PARSE( key: "+i+", value: "+e[i]+" )");var n=this.conformKeyValue(i,e[i]);for(var s in n)this.ifDebug("debug_level2")&&trace("    CONFORMED DECLARATION:",n[s]),a[n[s][0]]=n[s][1]}return this.debug_element=null,a},this.conformCssString=function(e,t){this.debug_element=t,this.ifDebug("debug_level1")&&trace(" CssManager.conformCssString()");var a={};if(e){var i=e.split(/\s*;\s*/);for(var n in i)if(i[n]){var s=i[n].split(/:(.+)?/);this.ifDebug("debug_level2")&&trace("  PARSE( key: "+s[0]+", value: "+s[1]+" )");var r=this.conformKeyValue(s[0],s[1]);for(var o in r)this.ifDebug("debug_level2")&&trace("    CONFORMED DECLARATION:",r[o]),a[r[o][0]]=r[o][1]}}return this.debug_element=null,a},this.conformCssKeyValue=function(e,t){this.ifDebug("debug_level1")&&trace(" CssManager.conformCssKeyValue()");var a={};return a[e]=t,this.conformCssObject(a)},this.applyTransform=function(e,t,a){this.ifDebug("debug_level1")&&trace("    - CssManager.applyTransform(), "+t+": "+a);var i=new Matrix2D,n=e.style[this.getDeviceKey("transform")],s=n.match(/matrix[^\)]+\)/);s&&(i.setFromCss(s[0]),this.ifDebug("debug_level2")&&trace("       existing matrix:",i.data));var r=t.match(/\(\s([^\s]+)/)[1];if("transforms"in e)var o=e.transforms;else var o={tx:0,ty:0,rz:0,sx:1,sy:1};var d=-1*o[r];switch(r){case"tx":i.translate(d,0),i.translate(a,0);break;case"ty":i.translate(0,d),i.translate(0,a);break;case"rz":i.rotate(d*Math.PI/180),i.rotate(a*Math.PI/180);break;case"sx":d=1,i.scale(d,1),i.scale(a,1);break;case"sy":d=1,i.scale(1,d),i.scale(1,a)}this.ifDebug("debug_level2")&&trace("        > reverse existing transform( "+r+" ):",d),o[r]=a,e.transforms=o,this.ifDebug("debug_level2")&&trace("       updated matrix:",i.data),e.style[this.getDeviceKey("transform")]=i.getCss()},this.conformKeyValue=function(e,t){e=String(e).trim(),t=String(t).trim();var a=this.formatKey(e,"hyphen");return this.conformValue(a,t)},this.stripPrefix=function(e){return e.replace(/-?(moz|webkit|ms|o)-/,"")},this.hasPrefix=function(e){return e.search(/-?(moz|webkit|ms|o)-/)>-1},this.getDeviceKey=function(e){return e in this.deviceKeyDict?this.deviceKeyDict[e]:e},this.formatKey=function(e,t){return e=this.stripPrefix(e),t=t||"hyphen",this.ifDebug("debug_level2")&&trace('   getting key as "'+t+'"'),e in this.keyFormatExceptions()&&(e="camel"!=t?this.keyFormatExceptions()[e]:this.camelateKey(this.keyFormatExceptions()[e])),"hyphen"==t?e=this.hyphenateKey(e):"camel"==t&&(e=this.camelateKey(e)),this.ifDebug("debug_level2")&&trace('    - result: "'+e+'"'),e},this.hyphenateKey=function(e){return e=e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()}),e=this.hasPrefix(e)&&0!=e.indexOf("-")?"-"+e:e},this.camelateKey=function(e){return e=e.replace(/-(.)/g,function(e){return e.charAt(1).toUpperCase()})},this.keyFormatExceptions=function(){return{bgImage:"background-image",x:"transform( tx )",translateX:"transform( tx )",y:"transform( ty )",translateY:"transform( ty )",rotate:"transform( rz )",rotation:"transform( rz )",scaleX:"transform( sx )",scaleY:"transform( sy )"}},this.conformValue=function(e,t){var a,i=[],n=t.match(/\s/),s=t.match(this.matchNumberRegex());if(!n&&s){this.ifDebug("debug_level2")&&trace("   conform value as number"),a=Number(s[0]);var r=t.match(/[^0-9\.]+$/);if(r)a+=r[0];else switch(e){case"top":case"right":case"bottom":case"left":case"width":case"height":case"font-size":case"line-height":case"border-radius":case"padding":case"margin":case"margin-right":case"margin-left":case"margin-top":case"margin-bottom":a+="px"}}else if("background-image"==e)this.ifDebug("debug_level2")&&trace("   conform value as background image"),t=t.replace(/^url\(\s*['"]*/,"").replace(/['"]*\s*\)$/,""),a='url( "'+t+'" )';else if("transform"==e){this.ifDebug("debug_level2")&&trace('   convert "transform" functions to individual transforms');for(var o=/([a-z0-9]+)\(([^\)]+)\)/gi;params=o.exec(t);){var d=params[2].replace(/\s/g,"").split(",").map(function(e,t,a){return Number(e.match(CssManager.matchNumberRegex())[0])});switch(params[1]){case"translate":i.push(["transform( tx )",d[0]]),i.push(["transform( ty )",d[1]]);break;case"translateX":i.push(["transform( tx )",d[0]]);break;case"translateY":i.push(["transform( ty )",d[0]]);break;case"rotate":i.push(["transform( rz )",d[0]]);break;case"scale":i.push(["transform( sx )",d[0]]),i.push(["transform( sy )",d[1]]);break;case"scaleX":i.push(["transform( sx )",d[0]]);break;case"scaleY":i.push(["transform( sy )",d[0]])}}}else this.ifDebug("debug_level2")&&trace("   conform value as string"),a=t;return void 0!=a&&(this.ifDebug("debug_level2")&&trace('    - result: "'+a+'"'),i.push([e,a])),i},this.matchNumberRegex=function(){return/^\-?[0-9]+(\.[0-9]*)?/}},ImageManager=new function(){function e(e){for(var t=0;t<e.length;t++)if(e[t]instanceof FbaLoader)i(e[t]);else{var a=e[t].dataRaw;n(a.id),h[a.id]=a}trace("ImageManager:",h),c.call()}function t(){r||(r=new Loader({name:"imageManagerLoader",onComplete:s,onFail:global.failAd}))}function a(e,t){if(l)throw new Error("ImageManager is currently loading...\n\n	Can NOT call ImageManager."+e+"("+(t||"")+") until previous callback is fired.\n\n");return l}function i(e){var t=e.images;for(var a in t){var i=t[a].id;n(i),h[i]=t[a]}}function n(e){if(h[e])throw new Error("Duplicate Image Id - One or more images loading in have the same name. Each Image needs a unique file name.")}function s(t){r=null,d=[],l=!1,e(t.getAllContent())}var r,o=this,d=[],h={},l=!1,c=function(){};o.addToLoad=function(e,t){return a("addToLoad",e)?void 0:(e=(t||"")+e,d.push(e),LoaderUtils.getFileName(e))},o.addLoader=function(e){a("addLoader",e)||(t(),r.add(e))},o.get=function(e){return h[e]?h[e]:!1},o.load=function(e){a("load")||(l=!0,t(),c=e,r.add(new Loader(d,{name:"dynamicImages"})),r.load())}},Styles=new function(){this.setCss=function(e,t){e=Markup.getElement(e);var a={};if(arguments.length>2)for(var i=1;i<arguments.length;i+=2)a=CssManager.conformCssKeyValue(arguments[i],arguments[i+1]);else a="string"==typeof arguments[1]?CssManager.conformCssString(arguments[1],e):CssManager.conformCssObject(arguments[1],e);CssManager.apply(e,a)},this.setStyleString=function(e,t){this.setCss(e,t)},this.getCss=function(e,t){e=Markup.getElement(e);var a=window.getComputedStyle(e,null).getPropertyValue(t).replace(/px/,"");return isNaN(a)||(a=parseInt(a,10)),a},this.show=function(e){Styles.setCss(e,"visibility","visible")},this.hide=function(e){Styles.setCss(e,"visibility","hidden")},this.setBackgroundImage=function(e,t){var a=Markup.getElement(e);t instanceof HTMLImageElement&&(t=t.src),a.style.backgroundImage="url("+t+")"},this.setBackgroundColor=function(e,t){var a=Markup.getElement(e);a.style["background-color"]=t},this.getWidth=function(e){var t=Markup.getElement(e);return t.offsetWidth},this.getHeight=function(e){var t=Markup.getElement(e);return t.offsetHeight},this.getTop=function(e){return Styles.getCss(e,"top")},this.getLeft=function(e){return Styles.getCss(e,"left")},this.createClass=function(e,t,a){if(!document.getElementById(e)){var i=document.createElement("style");i.type="text/css",i.id=e;for(var n="",s=0;s<arguments.length-1;s+=2){for(var r=arguments[s+1].split(","),o=0;o<r.length;o++)n+="."+r[o].replace(/^[\s]+/g,""),o<r.length-1&&(n+=",");n+=" { "+(arguments[s+2]||"")+" }\n"}i.innerHTML=n,document.getElementsByTagName("head")[0].appendChild(i)}},this.addClass=function(e,t){var a=Markup.getElement(e);a.classList.add(t)},this.removeClass=function(e,t){var a=Markup.getElement(e);a.classList.remove(t)},this.getLighterColor=function(e,t){return Styles.changeColor(e,t,!1)},this.getDarkerColor=function(e,t){return Styles.changeColor(e,t,!0)},this.changeColor=function(e,t,a){e=e.replace(/^\s*|\s*$/,""),e=e.replace(/^#?([a-f0-9])([a-f0-9])([a-f0-9])$/i,"#$1$1$2$2$3$3");var i=Math.round(256*t)*(a?-1:1),n=e.match(new RegExp("^rgba?\\(\\s*(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])\\s*,\\s*(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])\\s*,\\s*(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])(?:\\s*,\\s*(0|1|0?\\.\\d+))?\\s*\\)$","i")),s=n&&null!=n[4]?n[4]:null,r=n?[n[1],n[2],n[3]]:e.replace(/^#?([a-f0-9][a-f0-9])([a-f0-9][a-f0-9])([a-f0-9][a-f0-9])/i,function(){return parseInt(arguments[1],16)+","+parseInt(arguments[2],16)+","+parseInt(arguments[3],16)}).split(/,/);return n?"rgb"+(null!==s?"a":"")+"("+Math[a?"max":"min"](parseInt(r[0],10)+i,a?0:255)+", "+Math[a?"max":"min"](parseInt(r[1],10)+i,a?0:255)+", "+Math[a?"max":"min"](parseInt(r[2],10)+i,a?0:255)+(null!==s?", "+s:"")+")":["#",TextUtils.pad(Math[a?"max":"min"](parseInt(r[0],10)+i,a?0:255).toString(16),2),TextUtils.pad(Math[a?"max":"min"](parseInt(r[1],10)+i,a?0:255).toString(16),2),TextUtils.pad(Math[a?"max":"min"](parseInt(r[2],10)+i,a?0:255).toString(16),2)].join("")}},Markup=new function(){this.getElement=function(e){return"string"!=typeof e?e:"head"===e?Markup.getHeader():"body"===e?Markup.getBody():document.getElementById(e)},this.clearElement=function(e){var t=Markup.getElement(e);for(trace("clearElement ("+e+")");t.firstChild;)t.removeChild(t.firstChild)},this.getParent=function(e){return Markup.getElement(e).parentNode},this.getBody=function(){return document.getElementsByTagName("body")[0]},this.getHeader=function(){return document.getElementsByTagName("head")[0]},this.addDiv=function(e){var t=document.createElement("div");return t.id=e.id,Markup.applyContainerCss(t,e),e.target&&Markup.addChild(e.target,t),t},this.applyContainerCss=function(e,t){t.css||(t.css={}),t.css.position||(t.css.position="absolute"),Styles.setCss(e,t.css),Styles.setCss(e,t.styles)},this.removeDiv=function(e){var t=this.getElement(e);t.parentNode.removeChild(t)},this.addTextfield=function(e,t,a,i){a=a||!1;var n="boolean"==typeof a?1:a;a&&(e.css.backgroundColor="rgba(255,0,0,"+n+")");var s=Markup.addDiv(e),r={id:e.id+"_textParent",target:e.id,css:{position:"absolute",width:Styles.getCss(s,"width")-2*e.margin,height:Styles.getCss(s,"height"),left:e.margin}};a&&(r.css.backgroundColor="rgba(0,0,255,"+n+")");var o=Markup.addDiv(r),d={id:e.id+"_textfield",target:r.id,css:{position:"absolute",width:"auto",height:"auto",whiteSpace:e.multiline?"normal":"nowrap"},multiline:!!e.multiline,styles:e.textStyles};a&&(d.css.backgroundColor="rgba(0,180,0,"+n+")");var h=Markup.addDiv(d);if(t&&(h.innerHTML=t),i){var l=Styles.getWidth(h),c=parseInt(e.margin);Styles.setCss(o,"width",l),Styles.setCss(o,"left",c);var u=parseInt(l+2*c);Styles.setCss(s,"width",u);var g=Styles.getHeight(h);Styles.setCss(o,"height",g),Styles.setCss(s,"height",g)}return{container:s,parent:o,textfield:h}},this.addInputField=function(e){var t=document.createElement("input");return t.id=e.id,t.setAttribute("type","text"),t.setAttribute("value",e.defaultValue),e.css.boxSizing="border-box",Markup.applyContainerCss(t,e),Markup.addChild(e.target,t),t},this.addCanvas=function(e,t){var a=document.createElement("canvas");return a.id=e.id,a.width=e.css.width,a.height=e.css.height,delete e.css.width,delete e.css.height,Markup.applyContainerCss(a,e),t!==!1&&Markup.addChild(e.target,a),a},this.addiFrame=function(e){var t=document.createElement("iFrame");return t.id=e.id,t.width=e.css.width,t.height=e.css.height,delete e.css.width,delete e.css.height,t.setAttribute("src",e.source),t.setAttribute("frameborder","0"),t.setAttribute("scrolling","no"),t.setAttribute("allowfullscreen",""),Markup.applyContainerCss(t,e),Markup.addChild(e.target,t),t},this.addSvg=function(e){var t="http://www.w3.org/2000/svg",a=document.createElementNS(t,"svg");a.setAttribute("height",e.height),a.setAttribute("width",e.width);var i=document.createElementNS(t,"path");return i.setAttribute("d",e.d),i.setAttribute("fill",e.fill),void 0!=e.stroke&&i.setAttribute("stroke",e.stroke),void 0!=e.strokeWidth&&i.setAttribute("stroke-width",e.strokeWidth),a.appendChild(i),Markup.applyContainerCss(a,e),Markup.addChild(e.target,a),a},this.addChild=function(e,t){e=Markup.getElement(e),t=Markup.getElement(t),e.appendChild(t)},this.addHtml=function(e,t,a,i){var n=document.createElement("div");n.id=e,n.innerHTML=t,n.style.cssText=a,document.getElementsByTagName(i)[0].appendChild(n)},this.addBorder=function(e,t,a,i,n,s){return new Border(e,t,a,i,n,s)}},Align=function(){function e(e,t,a,n){Styles.setCss(Markup.getElement(t),i(e,t,a,n))}function t(e,t,a){if(e!=Align.TOP&&e!=Align.BOTTOM){
var n=i(e,t,a);delete n.top,Styles.setCss(Markup.getElement(t),n)}}function a(e,t,a){if(e!=Align.LEFT&&e!=Align.RIGHT){var n=0,s=a;e!=Align.TOP&&e!=Align.BOTTOM||(n=a);var r=i(e,t,n,s);delete r.left,Styles.setCss(Markup.getElement(t),r)}}function i(e,t,a,i){var r=Markup.getElement(t);a=a||0,i=i||0;var o=[a,i];return e==Align.TOP||e==Align.BOTTOM?o=[0,a]:e!=Align.LEFT&&e!=Align.RIGHT||(o[1]=0),{left:n(e,r.offsetWidth,r.parentNode.offsetWidth)+o[0],top:s(e,r.offsetHeight,r.parentNode.offsetHeight)+o[1]}}function n(e,t,a){e=e||Align.CENTER;var i=0;switch(e){case Align.BOTTOM_RIGHT:case Align.RIGHT:case Align.TOP_RIGHT:i=a-t;break;case Align.CENTER:case Align.TOP:case Align.BOTTOM:i=(a-t)/2;break;default:i=0}return i}function s(e,t,a){e=e||Align.CENTER;var i=0;switch(e){case Align.BOTTOM:case Align.BOTTOM_LEFT:case Align.BOTTOM_RIGHT:i=a-t;break;case Align.CENTER:case Align.LEFT:case Align.RIGHT:i=(a-t)/2;break;default:i=0}return i}return{BOTTOM:"alignBottom",BOTTOM_LEFT:"alignBottomLeft",BOTTOM_RIGHT:"alignBottomRight",CENTER:"alignCenter",LEFT:"alignLeft",RIGHT:"alignRight",TOP:"alignTop",TOP_LEFT:"alignTopLeft",TOP_RIGHT:"alignTopRight",move:e,moveX:t,moveY:a,calculate:i,horizontal:n,vertical:s,centerHorizontal:function(e,a,n){return n?i(Align.CENTER,e,a).left:t(Align.CENTER,e,a)},centerVertical:function(e,t,a){var i=Markup.getElement(e);t=t||0;var n=s(Align.CENTER,i.offsetHeight,i.parentNode.offsetHeight)+t;return a?n:Styles.setCss(i,{top:n})},left:function(e,a,n){return n?i(Align.LEFT,e,a).left:t(Align.LEFT,e,a)},right:function(e,a,n){return n?i(Align.RIGHT,e,a).left:t(Align.RIGHT,e,a)},top:function(e,t,n){return n?i(Align.TOP,e,t).top:a(Align.TOP,e,t)},bottom:function(e,t,n){return n?i(Align.BOTTOM,e,t).top:a(Align.BOTTOM,e,t)}}}(),FrameRate=new function(){function e(){if(!i){for(var t in s)s[t].tick();window.requestAnimationFrame(e)}}for(var t,a=this,i=!0,n=!0,s={},r=/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent),o=["webkit","moz"],d=0;!window.requestAnimationFrame&&d<o.length;d++)window.requestAnimationFrame=window[o[d]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[o[d]+"CancelAnimationFrame"]||window[o[d]+"CancelRequestAnimationFrame"];window.requestAnimationFrame&&window.cancelAnimationFrame&&!r||(trace("PolyFill -> FrameRate"),window.requestAnimationFrame=function(e){return setTimeout(e,17)},window.cancelAnimationFrame=clearTimeout),a.register=function(e,t,i){i=i||30,s[i]||(s[i]=new FrameRateBase(i));for(var r=s[i].pool,o=0;o<r.length;o++)if(r[o].from===e&&r[o].handler===t)return;r.push({handler:t,from:e}),n&&a.resume()},a.unregister=function(e,t,i){for(var r in s)if(!i||r==i){for(var o=s[r].pool,d=0;d<o.length;d++)if(o[d].from===e&&o[d].handler===t){o.splice(d,1);break}0==o.length&&delete s[r]}0===Object.keys(s).length&&(a.pause(),n=!0)},a.pause=function(){if(arguments.length>0){for(var e=0;e<arguments.length;e++){var a=arguments[e];s[a]&&(s[a]._paused=!0,i=!0)}for(var r in s)if(!s[r]._paused){i=!1;break}}else{for(var r in s)s[r]._paused=!0;i=!0}i&&(n=!1,window.cancelAnimationFrame(t))},a.resume=function(){var a=!i;if(arguments.length>0)for(var r=0;r<arguments.length;r++){var o=arguments[r];s[o]&&(s[o]._paused=!1,i=!1)}else{for(var d in s)s[d]._paused=!1;i=!1}a||(n=!0,t=window.requestAnimationFrame(e))},a.secondsAsFrames=function(e){return 1/e}};FrameRateBase.prototype={resume:function(){var e=this;e._isPaused&&(e._startTime=Date.now(),e._prevTime=_startTime,e._nextTime=0,e._isPaused=!1)},tick:function(){var e=this;if(!e._paused){var t=!1,a=Date.now(),i=a-e._prevTime;i>e._maxLag&&(trace("...lag"),e._startTime+=i-e._shiftLag),e._prevTime+=i;var n=e._prevTime-e._startTime,s=n-e._nextTime;s>0&&(e._nextTime+=s>=e._frameTime?s:e._frameTime,t=!0),t&&e.dispatch()}},dispatch:function(){for(var e=this,t=0;t<e.pool.length;t++){var a=e.pool[t];a.handler.call(a.from)}}};var Gesture=new function(){function e(e){for(var a=null,i=0;i<d.length;i++)if(d[i].elem===e){a=d[i];break}return a||(a=t(e)),a}function t(e){return _gestureBase=new GestureBase(e),_gestureBase.addEventListener(GestureEvent.FINISH,s),d.push(_gestureBase),_gestureBase}function a(t,a){var i=e(t);if(i.hasActiveChildren!=a){i.hasActiveChildren=a;for(var n=i.elem.getElementsByTagName("*"),s=0;s<n.length;s++)n[s].parentNode==t&&(a?o.enable(n[s]):o.disable(n[s]))}}function i(e,t,a,n){e.style.visibility="hidden",n.push(e);for(var s=document.elementFromPoint(t,a),r=0;r<h.length;r++)if(h[r].elem==s)return i(s,t,a,n);return s}function n(e){for(var t=[],a=i(e.target,e.clientX,e.clientY,t),n=0;n<t.length;n++)t[n].style.visibility="visible";return t=[],e.stopImmediatePropagation(),a}function s(e){for(var t=0;t<d.length;t++)d[t].finishPostStopBubble(e)}function r(e){var t=n(e),a=document.createEvent("HTMLEvents");a.initEvent(e.type,!0,!1),t.dispatchEvent(a)}var o=this,d=[],h=[],l=void 0!=document.createEventObject;o.init=function(){global.GestureEvent=new GestureEvent},o.addEventListener=function(t,a,i){var n=e(t);n.addEventListener(a,i),n._total++,Styles.setCss(t,"cursor","pointer"),Styles.setCss(t,"pointer-events","auto")},o.removeEventListener=function(t,a,i){var n=e(t);n&&(n.removeEventListener(a,i),n._total++,n._total<=0&&Styles.setCss(t,"cursor","auto"))},o.disable=function(t){var a=e(t);h.push(a),l?(a.addEventListener(GestureEvent.CLICK,r),Styles.setCss(t,"cursor","auto")):Styles.setCss(t,"pointer-events","none")},o.disableChildren=function(e){a(e,!1)},o.enable=function(t){for(var a=e(t),i=0;i<h.length;i++)if(a==h[i]){l?a.removeEventListener(GestureEvent.CLICK,r):(Styles.setCss(t,"pointer-events","auto"),Styles.setCss(t,"cursor","pointer"));break}},o.enableChildren=function(e){a(e,!0)}};GestureBase.prototype={init:function(){this.debug&&trace("GestureBase.init()"),this._handleDrag=this._handleDrag.bind(this),this._handleSwipe=this._handleSwipe.bind(this),this._handleDown=this._handleDown.bind(this),this._handleUp=this._handleUp.bind(this),this._handleDragStart=this._handleDragStart.bind(this),this._handleTouchStart=this._handleTouchStart.bind(this),this._handleTouchMove=this._handleTouchMove.bind(this),this._handleTouchDrag=this._handleTouchDrag.bind(this),this._handleTouchEnd=this._handleTouchEnd.bind(this),this._handleSelectStopBubble=this._handleSelectStopBubble.bind(this),this.addEventListener=this.elem.addEventListener.bind(this.elem),this.removeEventListener=this.elem.removeEventListener.bind(this.elem),this.elem.addEventListener("touchstart",this._handleTouchStart),this.elem.addEventListener("mousedown",this._handleDown),this.elem.addEventListener(GestureEvent.CLICK,this._handleSelectStopBubble)},_handleDown:function(e){this.debug&&trace("GestureBase._handleDown()"),this._isDragging=!1,this._isDrag=!1,window.addEventListener("mouseup",this._handleUp),window.addEventListener("touchend",this._handleTouchEnd),window.addEventListener("mousemove",this._handleDragStart),window.addEventListener("touchmove",this._handleTouchMove);var t=this._getEventScope(e),a=e.target.getBoundingClientRect();GestureEvent.press.position.x=t.pageX-a.left,GestureEvent.press.position.y=t.pageY-a.top,GestureEvent.press.page.x=t.pageX,GestureEvent.press.page.y=t.pageY,this.debug&&trace("  -> dispatch ( PRESS ), event:",t,"touch.layerX:",t.layerX,"press:",GestureEvent.press.position.x),this.elem.dispatchEvent(GestureEvent.press)},_handleUp:function(e,t){this.debug&&trace("GestureBase._handleUp()"),window.removeEventListener("mouseup",this._handleUp),window.removeEventListener("touchend",this._handleTouchEnd),window.removeEventListener("mousemove",this._handleDragStart),window.removeEventListener("touchmove",this._handleTouchMove),window.removeEventListener("mousemove",this._handleDrag),window.removeEventListener("touchmove",this._handleTouchDrag),t!==!0&&(this.debug&&trace(" - dispatch GestureEvent.RELEASE"),this.elem.dispatchEvent(GestureEvent.release)),this._isDragging&&this._handleDragStop(e),this.elem.addEventListener("touchstart",this._handleTouchStart),this.elem.addEventListener("mousedown",this._handleDown),e.preventDefault(),this.debug&&trace("  _handleUp(), event.preventDefault(), kills second mousedown event")},_handleTouchStart:function(e){this.debug&&trace("GestureBase._handleTouchStart()"),this._handleDown(e)},_handleTouchMove:function(e){this.debug&&trace("GestureBase._handleTouchMove()"),this._handleDragStart(e)},_handleTouchDrag:function(e){this.debug&&trace("GestureBase._handleTouchDrag()"),this._handleDrag(e)},_handleTouchEnd:function(e){this.debug&&trace("GestureBase._handleTouchEnd()"),this._handleUp(e)},_getEventScope:function(e){return this.debug&&trace("GestureBase._getEventScope(), event:",e),"android"==Device.os&&e instanceof TouchEvent?e.changedTouches[0]:e},_handleSelectStopBubble:function(e){this.debug&&trace("GestureBase._handleSelectStopBubble()"),this._isDrag&&(e.stopImmediatePropagation(),this.debug&&trace("Gesture : "+this.elem.id+" is Dragging, CLICK not fired"),this.elem.dispatchEvent(GestureEvent.finish))},finishPostStopBubble:function(e){this.debug&&trace("GestureBase.finishPostStopBubble()"),this.elem.removeEventListener("touchstart",this._handleTouchStart),this.elem.removeEventListener("mousedown",this._handleDown),this._handleUp(e,!0)},_handleDragStart:function(e){this.debug&&trace("GestureBase._handleDragStart()");var t=this._getEventScope(e),a=e.target.getBoundingClientRect(),i=t.pageX-a.left,n=t.pageY-a.top;this._xStart=this._xPrev=this._xPrev2=i,this._yStart=this._yPrev=this._yPrev2=n;var s=parseInt(this.elem.style.left.replace(/px/,""),10),r=parseInt(this.elem.style.top.replace(/px/,""),10);this._xOff=i-s,this._yOff=n-r,GestureEvent.dragStart.position.x=i,GestureEvent.dragStart.position.y=n,GestureEvent.dragStart.element.x=s,GestureEvent.dragStart.element.y=r,window.removeEventListener("mousemove",this._handleDragStart),window.removeEventListener("touchmove",this._handleTouchMove),window.addEventListener("mousemove",this._handleDrag),window.addEventListener("touchmove",this._handleTouchDrag)},_handleDrag:function(e){this.debug&&trace("GestureBase._handleDrag()");var t=this._getEventScope(e),a=e.target.getBoundingClientRect(),i=t.pageX-a.left,n=t.pageY-a.top,s=i-this._xPrev,r=i-this._xPrev2;this._xVelocity=(r-s)/2+s;var o=n-this._yPrev,d=n-this._yPrev2;this._yVelocity=(d-o)/2+o,GestureEvent.drag.position.x=i,GestureEvent.drag.position.y=n,GestureEvent.drag.element.x=i-this._xOff,GestureEvent.drag.element.y=n-this._yOff,GestureEvent.drag.velocity.x=this._xVelocity,GestureEvent.drag.velocity.y=this._yVelocity,GestureEvent.drag.page.x=t.pageX,GestureEvent.drag.page.y=t.pageY,this._isDragging?this.elem.dispatchEvent(GestureEvent.drag):(Math.abs(this._xStart-i)>this._give||Math.abs(this._yStart-n)>this._give)&&(this._isDragging=!0,this._isDrag=!0,this.elem.dispatchEvent(GestureEvent.dragStart)),this._xPrev2=this._xPrev,this._xPrev=i,this._yPrev2=this._yPrev,this._yPrev=n},_handleDragStop:function(e){this.debug&&trace("GestureBase._handleDragStop()"),this._isDragging=!1,GestureEvent.dragStop.position.x=this._xPrev,GestureEvent.dragStop.position.y=this._yPrev,GestureEvent.dragStop.velocity.x=this._xVelocity,GestureEvent.dragStop.velocity.y=this._yVelocity,this.elem.dispatchEvent(GestureEvent.dragStop),this._handleSwipe(e)},_handleSwipe:function(e){this.debug&&trace("GestureBase._handleSwipe()"),GestureEvent.swipe.direction.x=this._xVelocity>0?"right":this._xVelocity<0?"left":null,GestureEvent.swipe.direction.y=this._yVelocity>0?"down":this._yVelocity<0?"up":null,GestureEvent.swipe.distance.x=this._xPrev-this._xStart,GestureEvent.swipe.distance.y=this._yPrev-this._yStart,GestureEvent.swipe.velocity.x=this._xVelocity,GestureEvent.swipe.velocity.y=this._yVelocity,this.elem.dispatchEvent(GestureEvent.swipe)}};var DateUtils=new function(){this.initDateUtils=function(e){this.tzDesignation=e.tzDesignation||this.TZ_LOCAL,this.initDate=this.getNow(this.tzDesignation),this.language=e.language||"english";var t=NetUtils.getQueryParameterBy("externalDate");t?(this.dateMode=this.DATE_EXTERNAL,this.setCurrentDate.apply(this,this.parseUnixTimestamp(t))):!e.dateOverride||"staging"!=adParams.environmentId&&"debug"!=adParams.environmentId?this.dateMode=this.DATE_SYSTEM:(this.dateMode=this.DATE_INTERNAL,this.setCurrentDate.apply(this,e.dateOverride.call())),this.newDayStartsAt=e.newDayStartsAt||0,this.eventDuration=e.eventDuration||120,this.tonightStartsAt=e.tonightStartsAt||1050},this.language,this.tzDesignation,this.newDayStartsAt,this.eventDuration,this.tonightStartsAt,this.DATE_INTERNAL="INTERNAL-DATE",this.DATE_EXTERNAL="EXTERNAL-DATE",this.DATE_SYSTEM="SYSTEM-DATE",this.dateMode=this.DATE_SYSTEM,this.initDate,this.internalDate,this.getCurrentDate=function(){var e={date:this.parseToDate(this.toTimestamp(new Date),this.TZ_LOCAL),tzDesignation:this.TZ_LOCAL};return this.internalDate&&(e={date:new Date(this.internalDate.date),tzDesignation:this.internalDate.tzDesignation},e.date.setMilliseconds(e.date.getMilliseconds()+((new Date).getTime()-this.initDate.getTime()))),e},this.setCurrentDate=function(e,t){var a=t||this.TZ_LOCAL;this.internalDate={date:e instanceof Date?e:this.parseToDate(e),tzDesignation:a},trace("-- DATE SETTINGS -------------------------------------------------------------------------------------------"),trace(""),trace(""),trace("    DATE-MODE: "+this.dateMode),trace("     Time for this unit is now assumed to be: "),trace("      "+this.getCurrentDate().date.toString().replace(/GMT(\+|\-)[0-9]{4}.*$/,this.getDstAccurateGmtString(this.getCurrentDate().date,this.getCurrentDate().tzDesignation))),trace(""),trace(""),trace("-------------------------------------------------------------------------------------------------------------")},this.parseUnixTimestamp=function(e){var t,a=e.split("GMT"),i=this.parseToDate(a[0]),n=a[1];if("-LOCAL"==n.toUpperCase())t=this.TZ_LOCAL;else{var s="-"==n.substr(0,1)?-1:1,r=s*parseInt(n.substr(1,2),10)-this.getDstOffsetFor(i),o=TextUtils.pad(r,2)+n.substr(3,2);t=this.getTzDesignationByFor("gmtOffset","GMT"+o)}return[i,t]},this.getDstAccurateGmtString=function(e,t){if(t==this.TZ_LOCAL)return this.TZ_LOCAL.gmtOffset;var a=t.gmtOffset.split("GMT")[1],i="-"==a.substr(0,1)?-1:1,n=i*parseInt(a.substr(1,2),10)+this.getDstOffsetFor(e);return"GMT"+TextUtils.pad(n,2)+a.substr(3,2)},this.TZ_LOCAL={label:"local",gmtOffset:"GMT-LOCAL"},this.TZ_UTC={label:"utc",gmtOffset:"GMT-0000"},this.TZ_ART={label:"art",gmtOffset:"GMT-0300"},this.TZ_EST={label:"est",gmtOffset:"GMT-0500"},this.TZ_CST={label:"cst",gmtOffset:"GMT-0600"},this.TZ_MST={label:"mst",gmtOffset:"GMT-0700"},this.TZ_PST={label:"pst",gmtOffset:"GMT-0800"},this.TZ_AEST={label:"aest",gmtOffset:"GMT+1000"},this.getTzConstants=function(){return[this.TZ_LOCAL,this.TZ_UTC,this.TZ_ART,this.TZ_EST,this.TZ_CST,this.TZ_MST,this.TZ_PST,this.TZ_AEST]},this.getTzDesignationByFor=function(e,t){for(var a in this.getTzConstants())if(this.getTzConstants()[a][e]==t)return this.getTzConstants()[a];return null},this.getOffsetForIn=function(e,t){if(t||(t="hours"),e==this.TZ_LOCAL){var a=new Date;return"hours"==t?a.timezoneOffset/60:a.timezoneOffset}var i=-(60*parseInt(e.gmtOffset.substr(3,3),10))+parseInt(e.gmtOffset.substr(6,2),10);return"hours"==t?i/60:i},this.getLocalTzDesignation=function(){var e=new Date,t=e.timezoneOffset/60;if(this.dateMode!=this.DATE_SYSTEM){var a=this.getCurrentDate();e=a.date,t=this.getOffsetForIn(a.tzDesignation,"hours")}var i=getDstOffsetFor(e),n=t+i,s=Math.floor(n),r=60*s+60*(n-s);for(var o in this.getTzConstants())if(this.getTzConstants()[o]!=this.TZ_LOCAL){this.getOffsetForIn(this.getTzConstants()[o],"minutes");if(r==this.getTzConstants()[o])return this.getTzConstants()[o]}return null},this.MS_PER_MINUTE=6e4,this.MS_PER_HOUR=60*this.MS_PER_MINUTE,this.MS_PER_DAY=24*this.MS_PER_HOUR,this.MS_PER_WEEK=7*this.MS_PER_DAY,this.parseToDate=function(e,t){var a=new Date(parseInt(e.substr(0,4),10),parseInt(e.substr(5,2),10)-1,parseInt(e.substr(8,2),10),parseInt(e.substr(11,2),10),parseInt(e.substr(14,2),10),parseInt(e.substr(17,2),10));return a},this.getNow=function(e){e=e?e:this.TZ_LOCAL;var t=this.getCurrentDate(),a=new Date(t.date),i=this.minutesFromUtcTo(t.tzDesignation,a)-this.minutesFromUtcTo(e,a);return a.setMinutes(a.getMinutes()+i),a},this.minutesFromUtcTo=function(e,t){t||(t=new Date);var a,i=this.getDstOffsetFor(t);switch(e.label){case this.TZ_UTC.label:a=0;break;case this.TZ_ART.label:case this.TZ_EST.label:case this.TZ_CST.label:case this.TZ_MST.label:case this.TZ_PST.label:a=60*(this.getOffsetForIn(e)-i);break;case this.TZ_AEST.label:a=60*(this.getOffsetForIn(e)-(1-i));break;case this.TZ_LOCAL.label:a=t.getTimezoneOffset()}return a},this.getDstOffsetFor=function(e){var t=new Date(2011,1,1),a=new Date(2011,7,1),i=t.getTimezoneOffset(),n=a.getTimezoneOffset(),s=e.getTimezoneOffset();return s==n&&s!=i?1:0},this.toDateTime=function(e){return this.toDate(e)+" "+this.toTime(e)},this.toDate=function(e){return this.toSimpleDate(e)+"/"+e.getFullYear()},this.toSimpleDate=function(e){return e.getMonth()+1+"/"+e.getDate()},this.toTime=function(e){var t=this.toSimpleTime(e)+" "+this.toMeridiem(e);return t},this.toSimpleTime=function(e){var t=(e.getHours()>12?e.getHours()-12:0==e.getHours()?12:e.getHours())+":"+TextUtils.pad(e.getMinutes(),2);return t},this.toMeridiem=function(e){return e.getHours()>=12?this.getLabels().PM:this.getLabels().AM},this.toTimestamp=function(e){var t=TextUtils.pad(e.getMonth()+1,2),a=TextUtils.pad(e.getDate(),2),i=TextUtils.pad(e.getFullYear(),4),n=TextUtils.pad(e.getHours(),2),s=TextUtils.pad(e.getMinutes(),2),r=TextUtils.pad(e.getSeconds(),2);return i+"-"+t+"-"+a+" "+n+":"+s+":"+r},this.toDay=function(e,t){var a=t?this.getLabels().WEEKDAYS_ABRV:this.getLabels().WEEKDAYS_FULL;return a[e.getDay()]},this.toMonthAndDay=function(e,t,a,i){var n=t?this.getLabels().MONTHS_ABRV:this.getLabels().MONTHS_FULL;return a?this.getMonthAsNumber(e,i)+"/"+e.getDate():n[e.getMonth()]+" "+e.getDate()},this.toDayAndMonth=function(e,t,a,i,n){var s=t?this.getLabels().MONTHS_ABRV:this.getLabels().MONTHS_FULL;if(a)return e.getDate()+"-"+this.getMonthAsNumber(e,i);var r=n?this.getNumericSuffixFor(e.getDate()):"";return e.getDate()+r+" "+this.getLabels().OF+" "+s[e.getMonth()]},this.getMonthAsNumber=function(e,t){var a=e.getMonth()+1;return t?TextUtils.pad(a,2):a},this.getNumericSuffixFor=function(e){var e=e.toString(),t=e.slice(e.length-1),a=e.length>=2?e.slice(e.length-2):e;switch(t){case"1":return"11"!=a?e+this.getLabels().ST:e+this.getLabels().TH;case"2":return"12"!=a?e+this.getLabels().ND:e+this.getLabels().TH;case"3":return"13"!=a?e+this.getLabels().RD:e+this.getLabels().TH;default:return e+this.getLabels().TH}},this.getTimeDifference=function(e,t){var a=t.getTime()/1e3-e.getTime()/1e3;return 0>a?null:{days:a/86400,hours:a/3600%24,minutes:a/60%60,seconds:a%60}},this.selectMessagingForDate=function(e,t,a,i,n,s){t=t?t:this.TZ_LOCAL,a=a?a:!1,i=i?i:!1;var r=this.getNow(t),o=this.getNow(this.TZ_LOCAL),d=new Date(e);switch(d.time+=this.eventDuration*this.MS_PER_MINUTE,!0){case this.isPast(d,r):return this.getLabels().PAST;case this.isLiveNow(e,r):return this.getLabels().NOW;case this.isTomorrow(e,o):return this.getLabels().TOMORROW;case this.isTonight(e,o):return this.getLabels().TONIGHT;case this.isToday(e,o):return this.getLabels().TODAY;case this.isThisWeek(e,o):return this.toDay(e,i);default:return"spanish"==this.language?this.toDayAndMonth(e,a,n,s):this.toMonthAndDay(e,a,n,s)}},this.languageLabels=[{language:"english",labels:{MONTHS_FULL:["January","February","March","April","May","June","July","August","September","October","November","December"],MONTHS_ABRV:["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],MONTHS_EXCP:["","","","","","","","","sept","","",""],WEEKDAYS_FULL:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],WEEKDAYS_ABRV:["sun","mon","tue","wed","thu","fri","sat"],WEEKDAYS_EXCP1:["","","tues","wednes","thur","",""],WEEKDAYS_EXCP2:["","","","","thurs","",""],AM:"am",PM:"pm",ST:"st",ND:"nd",RD:"rd",TH:"th",OF:"of",TOMORROW:"Tomorrow",TODAY:"Today",TONIGHT:"Tonight",NOW:"Live Now",PAST:"Past"}},{language:"spanish",labels:{MONTHS_FULL:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],MONTHS_ABRV:["enero","feb","marzo","abr","mayo","jun","jul","agosto","sept","oct","nov","dic"],MONTHS_EXCP:["","","","","","","","","set","","",""],WEEKDAYS_FULL:["domingo","lunes","martes","mi&#201;rcoles","jueves","viernes","s&#193;bado"],WEEKDAYS_ABRV:["dom","lun","mar","mi&#201;r","jue","vier","s&#193;b"],WEEKDAYS_EXCP1:["","","tues","wednes","thur","",""],WEEKDAYS_EXCP2:["","","","","thurs","",""],AM:"am",PM:"pm",ST:"ro",ND:"ndo",RD:"rd",TH:"th",OF:"de",TOMORROW:"ma&#209;ana",TODAY:"hoy",TONIGHT:"esta noche",NOW:"en vivo",PAST:"past"}}],this.getLabels=function(){for(var e=0;e<this.languageLabels.length;e++)if(this.languageLabels[e].language===this.language)return this.languageLabels[e].labels;return null},this.isPast=function(e,t){return trace("checking isPast"),t.getTime()>e.getTime()+this.eventDuration*this.MS_PER_MINUTE},this.isLiveNow=function(e,t){trace("checking isLiveNow");var a=t.getTime()>=e.getTime(),i=t.getTime()-e.getTime(),n=i<=this.eventDuration*this.MS_PER_MINUTE;return a&&n},this.isTonight=function(e,t){var a=Math.floor(this.tonightStartsAt/60),i=this.tonightStartsAt-60*a;return e.getTime()-t.getTime()<this.MS_PER_DAY&&e.getDate()==t.getDate()&&(e.getHours()>a||e.getHours()==a&&e.getMinutes()>i)&&t.getHours()>=this.newDayStartsAt/60},this.isToday=function(e,t){return e.getTime()-t.getTime()<this.MS_PER_DAY&&e.getDate()==t.getDate()&&t.getHours()>=this.newDayStartsAt/60},this.isTomorrow=function(e,t){var a=new Date(e.getFullYear(),e.getMonth(),e.getDate()),i=new Date(a);return i.setHours(a.getHours()-24),t.getTime()>=i.getTime()+60*this.newDayStartsAt*1e3&&t.getTime()<a.getTime()+60*this.newDayStartsAt*1e3},this.isThisWeek=function(e,t){return e.getTime()-t.getTime()<=this.MS_PER_WEEK&&(e.getDate()-t.getDate()==6&&t.getHours()>=this.newDayStartsAt/60||e.getDate()-t.getDate()<6)},this.isThisMonth=function(e,t){return e.getMonth()==t.getMonth()},this.isThisYear=function(e,t){return e.getFullYear()==t.getFullYear()}},DateStates=function(){this.dates=[],this.addDate=function(e,t,a,i){t=t||DateUtils.TZ_LOCAL,e instanceof Date||(e=DateUtils.parseToDate(e,t)),this.dates.push({date:e,tzDesignation:t,label:a,args:i}),this.sortDates(),this.confirmLabels()},this.traceSchedule=function(){trace("DateStates.traceSchedule()");for(var e in this.dates)trace(" - "+this.dates[e].date+"( "+this.dates[e].tzDesignation.label+' ), index: "'+e.toString()+'", label: "'+this.dates[e].label+'"')},this.getCurrentLabel=function(){return this.dates[this.getCurrentIndex()].label},this.getCurrentIndex=function(){for(var e=-1,t=0;t<this.dates.length;t++){var a=DateUtils.getNow(this.dates[t].tzDesignation);a.getTime()>=this.dates[t].date.getTime()&&(e=t)}return e},this.getDates=function(){var e=[];for(var t in this.dates)e.push(this.dates[t].date);return e},this.sortDates=function(){function e(e,t){return e.date.getTime()<t.date.getTime()?-1:e.date.getTime()>t.date.getTime()?1:0}this.dates.sort(e)},this.confirmLabels=function(){for(var e in this.dates)this.dates[e].label||(this.dates[e].label="date-"+e.toString())},this.addDate("2000-01-01 00:00:00")},Countdown=function(){this.init=function(e,t){trace("Countdown.init(), to: "+e+", tzDesignation: "+t),this.targetDate="Date"==typeof e?e:DateUtils.parseToDate(e),this.tzDesignation=t||DateUtils.TZ_LOCAL,this.complete=!1},this.isComplete=function(){return this.complete},this.getDays=function(){var e=this.update();return e?Math.floor(e.days):0},this.getHours=function(){var e=this.update();return e?Math.floor(e.hours):0},this.getMinutes=function(){var e=this.update();return e?Math.floor(e.minutes):0},this.getSeconds=function(){var e=this.update();return e?Math.floor(e.seconds):0},this.targetDate,this.tzDesignation,this.complete,this.update=function(){var e=DateUtils.getNow(this.tzDesignation),t=DateUtils.getTimeDifference(e,this.targetDate);return t?t:(trace("Countdown - countdown is over!!"),void(this.complete=!0))}},StaticGenerator=new function(){this.schedule=[],this.setSchedule=function(e,t,a){if(trace("StaticGenerator.setStaticSchedule()"),t||(t=DateUtils.TZ_LOCAL),a||(a=[]),1==e.length){trace(" - single tune-in date: generating dates for messaging states...");var i=new Date(e[0]);i.setTime(i.getTime()-(e[0].getHours()*DateUtils.MS_PER_HOUR+e[0].getMinutes()*DateUtils.MS_PER_MINUTE+1e3*e[0].getSeconds()-DateUtils.newDayStartsAt*DateUtils.MS_PER_MINUTE));var n=new Date(i);n.setTime(n.getTime()-DateUtils.MS_PER_WEEK);var s=new Date(i);s.setTime(s.getTime()-(DateUtils.MS_PER_WEEK-2*DateUtils.MS_PER_DAY));var r=new Date(i);r.setTime(r.getTime()-6*DateUtils.MS_PER_HOUR);var o=new Date(i);o.setTime(o.getTime()+6*DateUtils.MS_PER_HOUR);var d=new Date(e[0]);d.setTime(d.getTime()+15*DateUtils.MS_PER_MINUTE),e=[n,s,r,o,d],a=["week_before","week_of","day_before","day_of","live"]}else{trace(" - date range");for(var h=[],l=0;l<e.length;l++){var c=TextUtils.pad(e[l].getFullYear(),4),u=TextUtils.pad(e[l].getMonth()+1,2),g=TextUtils.pad(e[l].getDate(),2),p=TextUtils.pad(e[l].getHours(),2)+TextUtils.pad(e[l].getMinutes(),2);h.push(c+u+g+"_"+p)}if(a.length!=e.length)a=h;else for(var m=0;m<a.length;m++)a[m]=a[m].replace(/\'|\"|\-|\s|\/|\\|/g,"_")}for(var A=[],l=0;l<e.length;l++)A.push(DateUtils.toTimestamp(e[l])+" "+DateUtils.getDstAccurateGmtString(e[l],t));trace("==DATES:",e),trace("==DATE-STRINGS:",A),this.staticSchedule={dates:A,dateObjects:e,dateLabels:a,tzDesignation:t},this.dispatchSchedule()},this.dispatchSchedule=function(){trace("StaticGenerator.dispatchSchedule()"),"function"==typeof window.callPhantom&&window.callPhantom({event:"staticSchedule",data:this.staticSchedule})},global.getStaticSchedule=function(){return trace("StaticGenerator.getStaticSchedule()"),StaticGenerator.staticSchedule},this.generateStatic=function(){trace("StaticGenerator.generateStatic()"),"function"==typeof window.callPhantom&&window.callPhantom({event:"takeScreenshot",data:{}})}},Matrix2D=function(){this.identity=new Float32Array([1,0,0,0,1,0]),this.data=new Float32Array(this.identity)};Matrix2D.prototype={clear:function(){this.data.set(this.identity)},rotate:function(e){var t=new Float32Array(this.identity),a=Math.cos(e).toFixed(15),i=Math.sin(e).toFixed(15);return t[0]=a,t[1]=i,t[3]=-i,t[4]=a,this.multiply(t),this},scale:function(e,t){var a=new Float32Array(this.identity);return a[0]=e,a[4]=t,this.multiply(a),this},skew:function(e,t){var a=new Float32Array(this.identity);return a[1]=Math.tan(e),a[3]=Math.tan(t),this.multiply(a),this},translate:function(e,t){var a=new Float32Array(this.identity);return a[2]=e||0,a[5]=t||0,this.multiply(a),this},multiply:function(e){for(var t=new Float32Array(this.data),a=0;6>a;a++){var i=3*Math.floor(a/3),n=a%3;this.data[a]=t[i]*e[n]+t[i+1]*e[n+3]}this.data[2]+=t[2],this.data[5]+=t[5]},setFromCss:function(e){var t=e.match(/\(([^\)]+)\)/)[1].replace(/\s/g,"").split(",").map(Number);this.data=[t[0],t[1],t[4],t[2],t[3],t[5]]},getCss:function(){return"matrix("+this.data[0]+","+this.data[1]+","+this.data[3]+","+this.data[4]+","+this.data[2]+","+this.data[5]+")"}};var TextUtils=new function(){this.autosizeTF=function(e,t){var a=void 0;a=e.id?Markup.getElement(e):e.textfield;var i=Markup.getParent(a);t=t||1;var n=void 0,s=void 0,r=Styles.getWidth(i);if(Styles.getWidth(a)>r)for(;Styles.getWidth(a)>r;)n=void 0===n?Styles.getCss(a,"font-size"):n-1,Styles.setCss(a,"font-size",n),s=n*t,Styles.setCss(a,"line-height",s);var o=Styles.getHeight(i);if(Styles.getHeight(a)>o)for(;Styles.getHeight(a)>o;)n=void 0===n?Styles.getCss(a,"font-size"):n-1,Styles.setCss(a,"font-size",n),s=n*t,Styles.setCss(a,"line-height",s);return Styles.getWidth(a)>r||Styles.getHeight(a)>o?void TextUtils.autosizeTF(a):n?n:Styles.getCss(a,"font-size")},this.fitContainerToText=function(e,t,a){Markup.getElement(e);if(t){var i=Styles.getWidth(e.textfield);Styles.setCss(e.parent,"width",i),Styles.setCss(e.parent,"left",parseInt(e.textfield.containerData.margin)/2);var n=parseInt(i+parseInt(e.textfield.containerData.margin));Styles.setCss(e.container,"width",n)}else if(a){var s=Styles.getHeight(e.textfield);Styles.setCss(e.parent,"height",s),Styles.setCss(e.container,"height",s)}},this.matchTeamNameSize=function(e,t){var a=TextUtils.autosizeTF(e),i=TextUtils.autosizeTF(t),n=a>i?i:a;Styles.setCss(e,{fontSize:n}),Align.moveX(Align.CENTER,e),Styles.setCss(t,{fontSize:n}),Align.moveX(Align.CENTER,t)},this.addText=function(e,t){var a="string"==typeof e?Markup.getElement(e):e;a.innerHTML=t},this.hasText=function(e){var t="string"==typeof e?Markup.getElement(e):e;return t.innerHTML.length>0},this.numlines=function(e){"string"==typeof e?Markup.getElement(e):e;return Styles.getCss(e,"height")/Styles.getCss(e,"line-height")},this.addSpaces=function(e){for(var t="",a=0;e>a;a++)t+="&nbsp;";return t},this.getSpecialCharacter=function(e,t){e=global.proxyStringToLowerCase.apply(e);for(var a=0;a<this.specialChars.length;a++){var i=global.proxyStringToLowerCase.apply(this.specialChars[a].label);if(i===e)return t?this.specialChars[a].upperCase:this.specialChars[a].lowerCase}return!1},this.specialCharacters=[{label:"iexcl",upperCase:"&#161;",lowerCase:"&#161;"},{label:"trademark",upperCase:"&#153;",lowerCase:"&#153;"},{label:"copyright",upperCase:"&#169;",lowerCase:"&#169;"},{label:"registered",upperCase:"&#174;",lowerCase:"&#174;"},{label:"nTilde",upperCase:"&#209;",lowerCase:"&#241;"},{label:"aAccent",upperCase:"&#193;",lowerCase:"&#225;"},{label:"eAccent",upperCase:"&#201;",lowerCase:"&#233;"},{label:"iAccent",upperCase:"&#205;",lowerCase:"&#237;"},{label:"oAccent",upperCase:"&#211;",lowerCase:"&#243;"},{label:"uAccent",upperCase:"&#218;",lowerCase:"&#250;"}],this.trimStartAndEnd=function(e){return e?e.replace(/^\s\s*/,"").replace(/\s\s*$/,""):""},this.removeSpaces=function(e){return e.split(" ").join("")},this.pad=function(e,t){var a="";for(0>e&&(a="-"),e=e.toString().replace(/\-/,"",e);e.length<t;)e="0"+e;return a+e}},NetUtils=new function(){this.getQueryParameterBy=function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",a=new RegExp(t),i=a.exec(window.location.search);return null==i?"":decodeURIComponent(i[1].replace(/\+/g," "))}},PrepareCommon=new function(){var e;this.init=function(t){trace("PrepareCommon.init()"),e=t,global.adData=new AdData(global.adParams.currentJsonData),ImageManager.load(this.onLoadAllImagesComplete)},this.onLoadAllImagesComplete=function(){trace("PrepareCommon.onLoadAllImagesComplete()"),e()}},EdgeData=function(e){var t=this;e=e||{},t.getMaskCssFor=function(e){return"-webkit-clip-path: "+t.convertMaskShapeToMaskCss(t.getMaskShapeBy(e).update())},t.getMaskShapeBy=function(e){for(var t in maskShapes)if(t==e)return maskShapes[t]},t.convertMaskShapeToMaskCss=function(e){for(var t="polygon( ",a=0;a<e.length;a++)t+=String(e[a][0])+"px "+String(e[a][1])+"px, ";return t.slice(0,t.length-2)+" )"}},Creative=new function(){function e(){a.cube.startRotating(),a.mysteryBG.show(),a.ctaBTN.hide(),a.shopBTN.hide(),a.subLoader.hide()}function t(){trace("\n 		 ----- Creative.reveal()"),a.cube.stopRotating(a.mysteryBG.hide),ShoeManager.show(),a.ctaBTN.show(),a.shopBTN.show(),a.subLoader.show()}var a=this;a.mysteryBG,a.cube,a.ctaBTN,a.shopBTN,a.intro,a.subLoader,a.build=function(t){a.mysteryBG=new MysteryBG,trace("Creative.build()"),trace("	inst.mysteryBG:"+a.mysteryBG),a.mysteryBG.build(),adData.elements.bg=Markup.addDiv({id:"bg",target:adData.elements.redAdContainer,css:{width:adParams.adWidth,height:adParams.adHeight,left:0,top:0,backgroundImage:ImageManager.get("bg").src,opacity:0},styles:"background-repeat: no-repeat; background-size: cover;"});var i=30;a.cube=new Cube,a.cube.build({target:adData.elements.redAdContainer,id:1,width:adParams.adWidth+i,height:adParams.adWidth+i,x:(adParams.adWidth+i)/2,
y:(adParams.adHeight+i)/2,cubeCenter:(adParams.adWidth+i)/2}),ShoeManager.init(a.cube.cubeContainer),ShoeManager.hide(),a.mysteryBG.show(),a.intro=new Intro,a.intro.build({target:adData.elements.redAdContainer,top:9}),a.swoosh=new Swoosh,a.swoosh.build({target:adData.elements.redAdContainer}),a.subLoader=new SubLoaderView,a.subLoader.build({target:adData.elements.redAdContainer,left:10,top:219,width:20,height:20}),a.ctaBTN=new CtaBTN,a.ctaBTN.build({id:"cta",target:adData.elements.redAdContainer,left:37,top:217,delay:.15}),adData.elements.randomizeButton=Markup.addDiv({id:"randomizeButton",target:adData.elements.redAdContainer,css:{width:adParams.adWidth,height:adParams.adHeight,left:0,top:0},styles:"background-repeat: no-repeat; background-size: contain;"}),Gesture.addEventListener(adData.elements.randomizeButton,GestureEvent.OVER,a.ctaBTN.onHitOver),Gesture.addEventListener(adData.elements.randomizeButton,GestureEvent.OUT,a.ctaBTN.onHitOut),Gesture.addEventListener(adData.elements.randomizeButton,GestureEvent.CLICK,function(){e()}),a.shopBTN=new CtaBTN,a.shopBTN.build({id:"cta_shop",target:adData.elements.redAdContainer,left:136,top:217}),Gesture.addEventListener(a.shopBTN.container,GestureEvent.OVER,a.shopBTN.onHitOver),Gesture.addEventListener(a.shopBTN.container,GestureEvent.OUT,a.shopBTN.onHitOut),Gesture.addEventListener(a.shopBTN.container,GestureEvent.CLICK,function(){Network.exit(clickTag)}),Styles.setCss(global.adData.elements.redAdContainer,"background","#dcdcdc"),Markup.addBorder("main",adData.elements.redAdContainer,2,"#000000")},a.animate=function(){trace("Creative.animate()"),TweenLite.delayedCall(.5,a.intro.show),TweenLite.delayedCall(1,a.cube.show),TweenLite.delayedCall(.2,a.swoosh.show),TweenLite.to(adData.elements.bg,.5,{alpha:1,ease:Quad.easeInOut}),TweenLite.delayedCall(2.5,function(){TweenLite.delayedCall(.2,a.subLoader.initShow),e()})},a.handleIMGLoadComplete=function(e){trace("\n 		 ----- Creative.handleIMGLoadComplete()"),adData.shoe.update(),t()}},Shoe=function(){function e(){for(var e=0;e<a.transitionShoes.length-2;e++)TweenLite.set(a.transitionShoes[e],{clip:"rect(0px,"+a.shoeWidth+"px,"+a.shoeHeight+"px, 0px)"})}function t(e){adData.elements.shoeContainer.appendChild(e)}var a=this;return a.transitionShoes,a.curShoeIndex=-1,a.curShoe,a.transitioning=!1,a.shoeWidth,a.shoeHeight,a.shoePartsWidth,a.updating=!1,a.showZ=10,a.widthBuffer=130,a.build=function(i){var n=-100;adData.elements.shoeContainer=Markup.addDiv({id:"shoeContainer",target:i,css:{width:adParams.adWidth,height:adParams.adHeight,left:0,top:0,opacity:1},styles:"background-repeat: no-repeat; background-size: contain; transform-style: preserve-3d;"}),Align.move(Align.CENTER,adData.elements.shoeContainer),TweenLite.set(adData.elements.shoeContainer,{z:n});var s=1.8,r=ImageManager.get("shadow");adData.elements.shoeShadow=Markup.addDiv({id:"shoeShadow",target:adData.elements.shoeContainer,css:{width:r.width*s,height:r.height*s,left:0,top:0,backgroundImage:r.src},styles:"background-repeat: no-repeat; background-size: contain;"}),Align.move(Align.BOTTOM,adData.elements.shoeShadow,30);var o,d,h,l;for(a.transitionShoes=[],l=0;l<adData.transitionShoes.length;l++)d=adData.transitionShoes[l],h=ImageManager.get(d),o=adData.elements[d]=Markup.addDiv({id:d,target:adData.elements.shoeContainer,css:{width:h.width+a.widthBuffer,height:h.height,left:0,top:0,backgroundImage:h.src},styles:"background-repeat: no-repeat; background-size: contain; background-position: center;"}),Align.centerHorizontal(o),a.transitionShoes.push(o);a.shoeWidth=h.width+a.widthBuffer,a.shoeHeight=h.height,a.shoePartsWidth=h.width+1.5*a.widthBuffer,adData.elements.shoePartsContainer=Markup.addDiv({id:"shoePartsContainer",target:adData.elements.shoeContainer,css:{width:a.shoePartsWidth,height:a.shoeHeight,left:0,top:0,opacity:1},styles:"background-repeat: no-repeat; background-size: contain; background-position: center; transform-style: preserve-3d;"}),Align.centerHorizontal(adData.elements.shoePartsContainer),a.transitionShoes.push(adData.elements.shoePartsContainer),Align.move(Align.CENTER,adData.elements.shoeContainer),TweenLite.set(adData.elements.shoeContainer,{z:n}),e(),t(a.transitionShoes[0])},a.update=function(e){trace("\n 		 ----- Shoe.update()");var t,i,n,s,r,o;for(o=0;o<adData.imgQue.length;o++)shoePart=adData.imgQue[o],t=shoePart.id,s=t+"IMG",i=shoePart.img,trace("	id:"+t),trace("	img:"+i),n=ImageManager.get(i),adData.elements[s]&&adData.elements.shoePartsContainer.removeChild(adData.elements[s]),r=adData.elements[s]=Markup.addDiv({id:s,target:adData.elements.shoePartsContainer,css:{width:a.shoePartsWidth,height:n.height,left:0,top:0,backgroundImage:n.src},styles:"background-repeat: no-repeat; background-size: contain; background-position: center;"}),trace("	adData.elements["+s+"]:"+r),Align.centerHorizontal(r)},a.startUpdating=function(){trace("Shoe.startUpdating()"),a.updating=!0,e(),a.curShoe&&(a.curShoeIndex=0,a.curShoe=a.transitionShoes[a.curShoeIndex],t(a.curShoe))},a.stopUpdating=function(){trace("Shoe.stopUpdating"),a.updating=!1,a.updating=!1,a.curShoeIndex=a.transitionShoes.length-1,a.curShoe=a.transitionShoes[a.curShoeIndex],TweenLite.set(a.curShoe,{clip:"rect(0px,"+a.shoeWidth+"px,"+a.shoeHeight+"px, "+a.shoeWidth+"px)"}),t(a.curShoe)},a.updateTransitionShoe=function(e,i){var n=1-i,s=a.updating?1>n:!0;if(e?(a.curShoeIndex++,a.curShoeIndex>=a.transitionShoes.length-1&&(a.curShoeIndex=0),a.curShoe,a.curShoe=a.transitionShoes[a.curShoeIndex],setTimeout(t,100,a.curShoe)):a.curShoe||(a.curShoeIndex=1,a.curShoe=a.transitionShoes[a.curShoeIndex]),!e&&s){var r=a.curShoeIndex<a.transitionShoes.length-1?a.shoeWidth:a.shoePartsWidth;TweenLite.set(a.curShoe,{clip:"rect(0px,"+r+"px,"+a.shoeHeight+"px,"+(r-r*n)+"px)"})}else TweenLite.set(a.curShoe,{clip:"rect(0px,"+a.shoeWidth+"px,"+a.shoeHeight+"px, 0px)"})},a},ShoeManager=new function(){function e(e){var t,a;for(i=0;i<e.length;i++)a=e[i],ImageManager.get(a.img)||(t=a.id+"/",ImageManager.addToLoad(a.img+".png",adParams.adPath+"dynamic_images/shoe/"+t));ImageManager.load(Creative.handleIMGLoadComplete)}function t(e){var t=Math.floor(Math.random()*e.length+1)-1,a=e[t];return a}this.init=function(e){adData.shoe.build(e),TweenLite.to(global.adData.elements.shoeContainer,0,{scaleX:.8,scaleY:.8})},this.randomize=function(){trace("\n 		 ----- ShoeManager.randomize()"),adData.imgQue=[];var a,i;for(i=0;i<adData.shoeParts.length;i++)a=adData.shoeParts[i],adData.imgQue.push({img:t(a.list),id:a.id});e(adData.imgQue.slice(0))},this.show=function(){},this.hide=function(){}},Cube=function(){function e(e){if(a.isLastRotation){var t=1-a.frontFace.getBoundingClientRect().width/a.cubeContainer.getBoundingClientRect().width;a.lastProgress>t&&(t=1),a.lastProgress=t,adData.shoe.updateTransitionShoe(e,1-t)}else adData.shoe.updateTransitionShoe(e,1-a.rotationAnimation.progress())}function t(e){for(var t=e.length-1;t>0;t--){var a=Math.floor(Math.random()*(t+1)),i=e[t];e[t]=e[a],e[a]=i}return e}var a=this;return a.cube,a.externalContainer,a.cubeContainer,a.toRotate=!1,a.rotating=!1,a.isLastRotation=!1,a.rotationAnimation,a.rotationTime=.5,a.startColor="#dddddd",a.lastProgress=0,a.rotationEdge,a.rotatingFaceWidth,a.shouldSwitchOnNextShrink=!1,a.rotatingFaces,a.nextFaceWidthLastWidth=0,a.rotationCallback,a.frontFace,a.backFace,a.topFace,a.bottomFace,a.leftFace,a.rightFace,a.width,a.height,a.build=function(e){trace("	\n ----- Cube.build()");var t=e.id,i=a.width=e.width,n=a.height=e.height,s=e.x,r=e.y,o=(e.cubeCenter,0),d="visible";a.faces=[],a.externalContainer=cubeExternalContainer=adData.elements["cubeExternalContainer"+t]=Markup.addDiv({id:"cubeExternalContainer"+t,target:e.target,css:{width:adParams.adWidth,height:adParams.adHeight,top:0,left:0},styles:"background-repeat: no-repeat; transform-style: preserve-3d; perspective: 290px;"}),a.cubeContainer=adData.elements["cubeContainer"+t]=Markup.addDiv({id:"cubeContainer"+t,target:cubeExternalContainer,css:{width:i,height:n,top:r,left:s,position:"absolute"},styles:"background-repeat: no-repeat; transform-style: preserve-3d;"}),TweenLite.set(a.cubeContainer,{transformOrigin:"50% 50% "+-e.cubeCenter}),Align.centerVertical(a.cubeContainer),Align.centerHorizontal(a.cubeContainer),a.cube=adData.elements["cube"+t]=Markup.addDiv({id:"cube"+t,target:a.cubeContainer,css:{width:i,height:n,position:"absolute"},styles:"background-repeat: no-repeat; transform-style: preserve-3d;"}),TweenLite.set(a.cube,{transformOrigin:"50% 50% "+-e.cubeCenter}),a.frontFace=adData.elements["cubeFront"+t]=Markup.addDiv({id:"cubeFront"+t,target:a.cube,css:{width:i,height:n,transformStyle:"preserve-3d",opacity:o,backgroundColor:a.startColor},styles:"backface-visibility: "+d+'; transformStyle: "preserve-3d"; background-size: '+i+"px "+n+"px; background-repeat: no-repeat; background-position: center;"}),a.backFace=adData.elements["cubeBack"+t]=Markup.addDiv({id:"cubeBack"+t,target:a.cube,css:{width:i,height:n,transformStyle:"preserve-3d",opacity:o,backgroundColor:a.startColor},styles:"backface-visibility: "+d+'; transformStyle: "preserve-3d"; background-size: '+i+"px "+n+"px; background-repeat: no-repeat; background-position: center;"}),TweenLite.set(a.backFace,{rotationY:0,rotationX:180,z:-i,transformOrigin:"50% 50%"}),a.leftFace=global.adData.elements["cubeLeft"+t]=Markup.addDiv({id:"cubeLeft"+t,target:a.cube,css:{width:i,height:n,left:0,opacity:o,backgroundColor:a.startColor},styles:"backface-visibility: "+d+'; transformStyle: "preserve-3d"; background-size: '+i+"px "+n+"px; background-repeat: no-repeat; background-position: center;"}),TweenLite.set(a.leftFace,{rotationY:0,rotationX:-90,rotationZ:90,transformOrigin:"0% 0% 0%"}),a.rightFace=global.adData.elements["cubeRight"+t]=Markup.addDiv({id:"cubeRight"+t,target:a.cube,css:{width:i,height:n,left:i,opacity:o,backgroundColor:a.startColor},styles:"backface-visibility: "+d+'; transformStyle: "preserve-3d"; background-size: '+i+"px "+n+"px; background-repeat: no-repeat; background-position: center;"}),TweenLite.set(a.rightFace,{rotationY:90,transformOrigin:"0 50%"}),a.topFace=adData.elements["cubeTop"+t]=Markup.addDiv({id:"cubeTop"+t,target:a.cube,css:{width:i,height:n,top:-n,transformStyle:"preserve-3d",opacity:o,backgroundColor:"#ffffff"},styles:"backface-visibility: "+d+'; transformStyle: "preserve-3d"; background-size: '+i+"px "+n+"px; background-repeat: no-repeat; background-position: center;"}),TweenLite.set(a.topFace,{rotationX:90,transformOrigin:"50% 100%"}),a.bottomFace=adData.elements["cubeBottom"+t]=Markup.addDiv({id:"cubeBottom"+t,target:a.cube,css:{width:i,height:n,top:n,transformStyle:"preserve-3d",opacity:o,backgroundColor:"#bbbbbb"},styles:"backface-visibility: "+d+'; transformStyle: "preserve-3d"; background-size: '+i+"px "+n+"px; background-repeat: no-repeat; background-position: center;"}),TweenLite.set(a.bottomFace,{rotationX:-90,transformOrigin:"50% 0%"}),adData.cubesSidesArray=[a.frontFace,a.backFace,a.leftFace,a.rightFace,a.topFace,a.bottomFace],a.rotatingFaces=[a.frontFace,a.rightFace,a.backFace,a.leftFace],TweenLite.set(a.externalContainer,{clip:"rect(0px, 0px,"+a.height+"px, 0px)"})},a.show=function(){TweenLite.fromTo(a.externalContainer,.5,{x:-10,clip:"rect(0px, 0px,"+a.height+"px, 0px)"},{delay:0,x:0,clip:"rect(0px, "+a.width+"px,"+a.height+"px, 0px)",ease:Quad.easeOut})},a.attachShoe=function(e){},a.startRotating=function(){TweenLite.to(a.cubeContainer,1,{z:-200,rotationX:-20,ease:Quad.easeInOut,onComplete:function(){TweenLite.delayedCall(.2,ShoeManager.randomize)}}),a.rotate()},a.rotate=function(){if(!a.toRotate){if(a.toRotate=!0,!a.rotating){a.rotating=!0,adData.shoe.startUpdating();var t;for(t=0;t<adData.cubesSidesArray.length;t++)TweenLite.to(adData.cubesSidesArray[t],1,{opacity:.4})}TweenLite.set(a.cube,{rotationY:0}),a.rotationEdge=0,a.shouldSwitchOnNextShrink=!1,a.rotatingFaceWidth=a.cubeContainer.getBoundingClientRect().width,a.rotatingFace=a.frontFace,a.rotationAnimation=TweenLite.fromTo(a.cube,a.rotationTime,{rotationY:0},{rotationY:-90,ease:Linear.easeNone,onUpdate:e,onComplete:function(){a.toRotate?(e(!0),a.toRotate=!1,a.rotate()):a.lastRotation()}})}},a.stopRotating=function(e){a.rotationCallback=e,a.toRotate=!1},a.lastRotation=function(){a.toRotate=!1,a.isLastRotation=!0,a.lastProgress=0,TweenLite.killTweensOf(a.cube);var n=3*a.rotationTime,s=a.rotationTime;for(TweenLite.to(a.cubeContainer,2*a.rotationTime,{delay:s,z:0,rotationX:0,ease:Quad.easeInOut,onStart:function(){}}),adData.shoe.stopUpdating(),a.rotationAnimation=TweenLite.fromTo(a.cube,n,{rotationY:0},{rotationY:-90,ease:Quad.easeOut,onUpdate:e,onComplete:function(){a.rotationCallback(),a.isLastRotation=!1}}),s/=3,t(adData.cubesSidesArray),a.rotating=!1,i=0;i<adData.cubesSidesArray.length;i++)TweenLite.to(adData.cubesSidesArray[i],.25,{delay:s,opacity:0}),s+=.15},a},CtaBTN=function(){var e=this;return e.container,e.ctaOver,e.ctaOut,e.ctaWidth,e.ctaHeight,e.showing=!1,e.delay=0,e.build=function(t){trace("\n 		 ----- CtaBTN.build()");var a=t.id,i=(t.target,t.top),n=t.left;e.delay=t.delay||0,e.container=adData.elements["ctaContainer_"+a]=Markup.addDiv({id:"ctaContainer_"+a,target:adData.elements.redAdContainer,css:{width:adParams.adWidth,height:adParams.adHeight,top:i,left:n},styles:"background-repeat: no-repeat; background-size: contain;"});var s=a+"_out",r=ImageManager.get(s);e.ctaWidth=r.width/2,e.ctaHeight=r.height/2,e.ctaOut=adData.elements[s]=Markup.addDiv({id:s,target:e.container,css:{width:e.ctaWidth,height:e.ctaHeight,left:0,top:0,backgroundImage:r.src},styles:"background-repeat: no-repeat; background-size: contain;"});var o=a+"_over";r=ImageManager.get(o),e.ctaOver=adData.elements[o]=Markup.addDiv({id:o,target:e.container,css:{width:e.ctaWidth,height:e.ctaHeight,left:0,top:0,backgroundImage:r.src},styles:"background-repeat: no-repeat; background-size: contain;"}),Styles.setCss(e.container,"width",e.ctaWidth),Styles.setCss(e.container,"height",e.ctaHeight),TweenLite.set(e.ctaOver,{clip:"rect(0px, "+e.ctaWidth+"px,"+e.ctaHeight+"px, "+e.ctaWidth+"px)"}),TweenLite.set(e.container,{clip:"rect(0px, 0px,"+e.ctaHeight+"px, 0px)"})},e.onHitOver=function(t){TweenLite.to(e.ctaOver,.25,{clip:"rect(0px, "+e.ctaWidth+"px,"+e.ctaHeight+"px, 0px)",ease:Quad.easeOut}),TweenLite.fromTo(e.ctaOut,.25,{clip:"rect(0px, "+e.ctaWidth+"px,"+e.ctaHeight+"px, 0px)"},{clip:"rect(0px, 0px,"+e.ctaHeight+"px, 0px)",ease:Quad.easeOut})},e.onHitOut=function(t){TweenLite.to(e.ctaOver,.5,{clip:"rect(0px, "+e.ctaWidth+"px,"+e.ctaHeight+"px, "+e.ctaWidth+"px)",ease:Quad.easeInOut}),TweenLite.to(e.ctaOut,.5,{clip:"rect(0px, "+e.ctaWidth+"px,"+e.ctaHeight+"px, 0px)",ease:Quad.easeOut})},e.onHitRelease=function(e){trace("CtaBTN.onHitRelease()")},e.show=function(){e.showing||(e.showing=!0,TweenLite.fromTo(e.container,.5-e.delay,{clip:"rect(0px, 0px,"+e.ctaHeight+"px, 0px)"},{delay:1.5+e.delay,clip:"rect(0px, "+e.ctaWidth+"px,"+e.ctaHeight+"px, 0px)",ease:Quad.easeOut}))},e.hide=function(){e.showing&&(e.showing=!1,TweenLite.to(e.container,.25-e.delay,{delay:e.delay,clip:"rect(0px, "+e.ctaWidth+"px,"+e.ctaHeight+"px, "+e.ctaWidth+"px)",ease:Quad.easeInOut}))},e},Intro=function(){var e=this;return e.width,e.height,e.showing=!1,e.logoWidth,e.logoHeight,e.build=function(t){trace("\n 		 ----- Intro.build()");var a=t.target,i=t.top,n=ImageManager.get("introTXT1");e.width=n.width/2,e.height=n.height/2;var s=adData.elements.introContainer=Markup.addDiv({id:"introContainer",target:a,css:{width:adParams.adWidth,height:adParams.adHeight,top:i,left:0},styles:"background-repeat: no-repeat; background-size: contain;"}),r=adData.elements.txtContainer=Markup.addDiv({id:"introContainer",target:s,css:{width:e.width,height:adParams.adHeight,top:0,left:0},styles:"background-repeat: no-repeat; background-size: contain;"});adData.elements.introTXT1=Markup.addDiv({id:"introTXT1",target:r,css:{width:e.width,height:e.height,left:0,top:0,backgroundImage:n.src},styles:"background-repeat: no-repeat; background-size: contain;"}),n=ImageManager.get("introTXT2"),adData.elements.introTXT2=Markup.addDiv({id:"introTXT2",target:r,css:{width:e.width,height:n.height/2,left:0,top:15,backgroundImage:n.src},styles:"background-position: right; background-repeat: no-repeat; background-size: contain;"});var o=e.width+10;n=ImageManager.get("logo_nikeid"),e.logoWidth=n.width/2,e.logoHeight=n.height/2,adData.elements.logoNikeID=Markup.addDiv({id:"logo_nikeid",target:s,css:{width:e.logoWidth,height:e.logoHeight,left:o,top:0,backgroundImage:n.src},styles:"background-repeat: no-repeat; background-size: contain;"}),Styles.setCss(s,"width",o+e.logoWidth),Align.centerHorizontal(s),TweenLite.set(adData.elements.introTXT1,{clip:"rect(0px, 0px,"+e.height+"px, 0px)"}),TweenLite.set(adData.elements.introTXT2,{clip:"rect(0px, 0px,"+e.height+"px, 0px)"}),TweenLite.set(adData.elements.logoNikeID,{clip:"rect(0px, 0px,"+e.logoHeight+"px, 0px)"})},e.show=function(){trace("Intro.show()"),trace("	inst.showing:"+e.showing),e.showing||(e.showing=!0,TweenLite.fromTo(adData.elements.logoNikeID,.5,{x:-10,clip:"rect(0px, 0px,"+e.logoHeight+"px, 0px)"},{x:0,clip:"rect(0px, "+e.logoWidth+"px,"+e.logoHeight+"px, 0px)",ease:Quad.easeOut}),TweenLite.fromTo(adData.elements.introTXT1,.5,{x:-10,clip:"rect(0px, 0px,"+e.height+"px, 0px)"},{x:0,delay:.2,clip:"rect(0px, "+e.width+"px,"+e.height+"px, 0px)",ease:Quad.easeOut}),TweenLite.fromTo(adData.elements.introTXT2,.5,{x:-20,clip:"rect(0px, 0px,"+e.height+"px, 0px)"},{x:0,delay:.3,clip:"rect(0px, "+e.width+"px,"+e.height+"px, 0px)",ease:Quad.easeOut}))},e.hide=function(){e.showing&&(e.showing=!1,TweenLite.to(adData.elements.logoNikeID,.25,{x:10,clip:"rect(0px, "+e.logoWidth+"px,"+e.logoHeight+"px, "+e.logoWidth+"px)",ease:Quad.easeInOut}),TweenLite.to(adData.elements.introTXT1,.25,{delay:.15,x:10,clip:"rect(0px, "+e.width+"px,"+e.height+"px, "+e.width+"px)",ease:Quad.easeInOut}),TweenLite.to(adData.elements.introTXT2,.25,{delay:.3,x:10,clip:"rect(0px, "+e.width+"px,"+e.height+"px, "+e.width+"px)",ease:Quad.easeInOut}))},e},MysteryBG=function(){var e=this;return e.stripes,e.build=function(){trace("\n 		 ----- MysteryBox.build()"),adData.elements.mysteryBGContainer=Markup.addDiv({id:"mysteryBGContainer",target:adData.elements.redAdContainer,css:{width:adParams.adWidth,height:adParams.adHeight,left:0,top:0},styles:"background-repeat: no-repeat; background-size: contain;"});var t=0,a=adParams.adWidth/2,i=2*adParams.adHeight;e.stripes=[];var n,t;for(t=0;2>t;t++)n=new MysteryBGStripes,n.build({target:adData.elements.mysteryBGContainer,id:t+1,width:a,height:i}),e.stripes.push(n)},e.show=function(){trace("inst.show()"),trace("	inst.stripes.length:"+e.stripes.length);for(var t=0;t<e.stripes.length;t++)e.stripes[t].show()},e.hide=function(){for(var t=0;t<e.stripes.length;t++)e.stripes[t].hide()},e},SubLoaderView=function(){var e=this;return e.showing=!1,e.build=function(t){trace("\n 		 ----- SubLoaderView.build()");var a=t.target||adData.elements.redAdContainer,i=t.width||20,n=t.height||20,s=t.top||219,r=t.left||10,o="subLoaderContainer",d=adData.elements[o]=new Markup.addDiv({id:o,target:a,css:{width:i,height:n,left:r,top:s},styles:"background-repeat: no-repeat; background-size: contain;"});o="subLoader";var h=ImageManager.get("nike_loader");e.loader=adData.elements[o]=new Markup.addDiv({id:o,target:d,css:{width:i,height:n,left:0,top:0,backgroundImage:h.src,opacity:0},styles:"background-repeat: no-repeat; background-size: contain;"}),o="colorwheel",h=ImageManager.get("colorwheel"),e.colorWheel=adData.elements[o]=new Markup.addDiv({id:o,target:d,css:{width:i,height:n,left:0,top:0,backgroundImage:h.src,opacity:0},styles:"background-repeat: no-repeat; background-size: contain;"})},e.initShow=function(){trace("SubLoaderView.initShow()"),TweenLite.to(e.loader,.35,{alpha:1,ease:Quad.easeInOUt})},e.show=function(){e.showing||(e.showing=!0,TweenLite.to(e.colorWheel,.25,{delay:1,alpha:1,ease:Quad.easeOut}),TweenLite.to(e.loader,.25,{delay:1.1,alpha:0,ease:Quad.easeInOUt}))},e.hide=function(){e.showing&&(e.showing=!1,TweenLite.to(e.colorWheel,.25,{alpha:0,ease:Quad.easeInOut}),TweenLite.to(e.loader,.25,{alpha:1,ease:Quad.easeInOUt}))},e},Swoosh=function(){var e=this;return e.width,e.height,e.showing=!1,e.build=function(t){trace("\n 		 ----- Swoosh.build()");var a=ImageManager.get("swoosh");e.width=a.width/2,e.height=a.height/2,adData.elements.swoosh=Markup.addDiv({id:"swoosh",target:t.target,css:{width:e.width,height:e.height,left:0,top:0,backgroundImage:a.src},styles:"background-repeat: no-repeat; background-size: contain;"}),Align.move(Align.BOTTOM_RIGHT,adData.elements.swoosh,-10,-10),TweenLite.set(adData.elements.swoosh,{clip:"rect(0px, 0px,"+e.height+"px, 0px)"})},e.hide=function(){TweenLite.to(adData.elements.swoosh,.5,{delay:1,clip:"rect(0px, 0px,"+e.height+"px, 0px)",ease:Expo.easeIn})},e.show=function(){e.showing||(e.showing=!0,TweenLite.to(adData.elements.swoosh,.5,{delay:1,clip:"rect(0px, "+e.width+"px,"+e.height+"px, 0px)",ease:Expo.easeIn}))},e},MysteryBGStripes=function(){function e(){t.isShowing=!1,TweenLite.killTweensOf(t.container)}var t=this;return t.container,t.isShowing=!1,t.left=0,t.destX=0,t.build=function(e){t.container=adData.elements["MysteryBGStripesContainer"+e.id]=Markup.addDiv({id:"mysteryBGContainer"+e.id,target:e.target,css:{width:e.width,height:e.height,left:0,top:0,opacity:0},styles:"background-repeat: no-repeat; background-size: contain;"});var a,i,n=0,s=adParams.adWidth/3,r=2*adParams.adHeight;for(n=0;n<adData.mysteryBGColors.length;n++)a=adData.mysteryBGColors[n],i=Markup.addDiv({id:"stripe_"+e.id+"_"+n,target:t.container,css:{width:s,height:r,left:s*n,top:0,backgroundColor:a}}),TweenLite.set(i,{rotationZ:-33});Align.centerVertical(t.container),Styles.setCss(t.container,"width",Styles.getCss(i,"left")+Styles.getCss(i,"width")),t.left=e.id>1?Styles.getCss(t.container,"width"):0,Styles.setCss(t.container,"left",t.left),t.destX=-Styles.getCss(t.container,"width")},t.show=function(){t.isShowing||(t.isShowing=!0,TweenLite.killTweensOf(t.container))},t.hide=function(){e()},t},MysteryBox=new function(){this.build=function(){adData.elements.boxContainer=Markup.addDiv({id:"boxContainer",target:adData.elements.redAdContainer,css:{width:adData.boxAreaWidth,height:adData.boxAreaHeight,left:adData.boxLeft,top:adData.boxTop},styles:"background-repeat: no-repeat; background-size: contain;"}),adData.elements.boxBG=Markup.addDiv({id:"boxBG",target:adData.elements.boxContainer,css:{width:ImageManager.get("randomize").width/2,height:ImageManager.get("randomize").height/2,left:0,top:0,backgroundImage:ImageManager.get("randomize").src},styles:"background-repeat: no-repeat; background-size: contain;"}),Align.move(Align.CENTER,adData.elements.boxBG)},this.show=function(){TweenLite.to(adData.elements.boxContainer,0,{alpha:1})},this.hide=function(){TweenLite.to(adData.elements.boxContainer,0,{alpha:0})}},Control=new function(){this.prepareBuild=function(){trace("Control.prepareBuild()"),Control.preMarkup(),View.buildMarkup(),Control.postMarkup(),Animation.startScene()},this.preMarkup=function(){trace("Control.preMarkup()"),Gesture.addEventListener(adData.elements.redAdContainer,GestureEvent.CLICK,function(){})},this.postMarkup=function(){trace("Control.postMarkup()")}},View=new function(){this.buildMarkup=function(){trace("View.buildMarkup()"),adData.boxAreaWidth=300,adData.boxAreaHeight=220,adData.boxLeft=0,adData.boxTop=0,Creative.build()}},Animation=new function(){this.startScene=function(){trace("Animation.startScene()"),global.removePreloader(),Styles.setCss(global.adData.elements.redAdContainer,"opacity","1"),Creative.animate()}};